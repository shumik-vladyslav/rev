{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/admin/admin-routing.module.ts","webpack:///./src/app/admin/admin-user-guard.ts","webpack:///./src/app/admin/admin.component.html","webpack:///./src/app/admin/admin.component.ts","webpack:///./src/app/admin/admin.module.ts","webpack:///./src/app/app-routing/app-routing.module.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.scss","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/auth/auth-guard.service.ts","webpack:///./src/app/auth/auth-routing.module.ts","webpack:///./src/app/auth/auth.component.scss","webpack:///./src/app/auth/auth.module.ts","webpack:///./src/app/auth/auth.service.ts","webpack:///./src/app/auth/login/login.component.html","webpack:///./src/app/auth/login/login.component.ts","webpack:///./src/app/auth/register/register.component.html","webpack:///./src/app/auth/register/register.component.ts","webpack:///./src/app/auth/token.storage.ts","webpack:///./src/app/header/header.component.html","webpack:///./src/app/header/header.component.scss","webpack:///./src/app/header/header.component.ts","webpack:///./src/app/home/home.component.html","webpack:///./src/app/home/home.component.scss","webpack:///./src/app/home/home.component.ts","webpack:///./src/app/interceptors/header.interceptor.ts","webpack:///./src/app/interceptors/http-error.interceptor.ts","webpack:///./src/app/model-list/model-list.component.html","webpack:///./src/app/model-list/model-list.component.scss","webpack:///./src/app/model-list/model-list.component.ts","webpack:///./src/app/model-main/model-main.component.html","webpack:///./src/app/model-main/model-main.component.scss","webpack:///./src/app/model-main/model-main.component.ts","webpack:///./src/app/shared/component.service.ts","webpack:///./src/app/shared/components/dialog-create-model/dialog-create-model.component.html","webpack:///./src/app/shared/components/dialog-create-model/dialog-create-model.component.scss","webpack:///./src/app/shared/components/dialog-create-model/dialog-create-model.component.ts","webpack:///./src/app/shared/components/dialog-parameters/dialog-parameters.component.html","webpack:///./src/app/shared/components/dialog-parameters/dialog-parameters.component.scss","webpack:///./src/app/shared/components/dialog-parameters/dialog-parameters.component.ts","webpack:///./src/app/shared/directives/click-outside.directive.ts","webpack:///./src/app/shared/model.service.ts","webpack:///./src/app/shared/model.ts","webpack:///./src/app/shared/pipes/filtr-list-param.pipe.ts","webpack:///./src/app/shared/shared.module.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["var map = {\n\t\"app/admin/admin.module\": [\n\t\t\"./src/app/admin/admin.module.ts\"\n\t],\n\t\"app/auth/auth.module\": [\n\t\t\"./src/app/auth/auth.module.ts\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\tvar module = __webpack_require__(ids[0]);\n\t\treturn module;\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\nmodule.exports = webpackAsyncContext;","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { AdminComponent } from './admin.component';\nimport { OnlyAdminUsersGuard } from './admin-user-guard';\n\nconst routes: Routes = [{\n  path: 'admin',\n  canActivate: [OnlyAdminUsersGuard],\n  children: [{\n    path: '',\n    component: AdminComponent,\n  }]\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\n\nexport class AdminRoutingModule {}\n","import { Injectable } from '@angular/core';\nimport { CanActivate } from \"@angular/router\";\nimport { Observable } from 'rxjs/Observable';\nimport { AuthService } from '../auth/auth.service';\n\n@Injectable()\nexport class OnlyAdminUsersGuard implements CanActivate {\n  constructor() {}\n\n  canActivate() {\n    const user = (<any>window).user;\n    return user && user.isAdmin;\n  }\n}\n","module.exports = \"<h4>HELLO FROM ADMIN PAGE</h4>\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-admin',\n  templateUrl: './admin.component.html',\n})\nexport class AdminComponent implements OnInit {\n\n  constructor() {}\n\n  public ngOnInit() {\n  }\n}\n\n\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\nimport { AdminRoutingModule } from './admin-routing.module';\nimport {AdminComponent} from './admin.component';\nimport {OnlyAdminUsersGuard} from './admin-user-guard';\n\n@NgModule({\n  declarations: [\n    AdminComponent\n  ],\n  imports: [\n    CommonModule,\n    AdminRoutingModule,\n  ],\n  providers: [\n    OnlyAdminUsersGuard\n  ]})\nexport class AdminModule {}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AuthGuard } from '../auth/auth-guard.service';\nimport { HomeComponent } from '../home/home.component';\nimport { ModelListComponent } from '../model-list/model-list.component';\nimport { ModelMainComponent } from '../model-main/model-main.component';\n\nconst routes: Routes = [{\n  path: '',\n  component: ModelListComponent\n},{\n  path: 'model-list',\n  component: ModelListComponent\n},{\n  path: 'model',\n  component: ModelMainComponent\n},{\n  path: 'model/:id',\n  component: ModelMainComponent\n}, {\n  path: 'auth',\n  loadChildren: 'app/auth/auth.module#AuthModule'\n}, {\n  path: 'admin',\n  loadChildren: 'app/admin/admin.module#AdminModule'\n}];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule],\n  providers: [AuthGuard],\n  declarations: []\n})\n\nexport class AppRoutingModule {}\n","module.exports = \"<app-header [user]=\\\"user\\\"></app-header>\\n<div class=\\\"wrapper-app\\\">\\n  <router-outlet></router-outlet>\\n</div>\\n<footer>\\n</footer>\\n\"","module.exports = \"\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs/Subscription';\nimport { MatIconRegistry } from \"@angular/material\";\nimport { DomSanitizer } from \"@angular/platform-browser\";\n\n\nimport { AuthService } from './auth/auth.service';\nimport * as schema from './schema/equipment.json';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n\n  private userSubscription: Subscription;\n  public user: any;\n\n  constructor(\n    private authService: AuthService,\n    private router: Router,\n    private domSanitizer: DomSanitizer,\n    private matIconRegistry: MatIconRegistry\n  ) {\n    this.registerSvgIcons()\n  }\n\n  public ngOnInit() {\n\n    // init this.user on startup\n    this.authService.me().subscribe(data => {\n      this.user = data.user;\n    });\n\n    // update this.user after login/register/logout\n    this.userSubscription = this.authService.$userSource.subscribe((user) => {\n      this.user = user;\n    });\n  }\n\n  logout(): void {\n    this.authService.signOut();\n    this.navigate('');\n  }\n\n  navigate(link): void {\n    this.router.navigate([link]);\n  }\n\n  ngOnDestroy() { \n    if (this.userSubscription) {\n      this.userSubscription.unsubscribe();\n    }\n  }\n\n  registerSvgIcons() {\n    [\n      'close',\n      'add',\n      'add-blue',\n      'airplane-front-view',\n      'air-station',\n      'balloon',\n      'boat',\n      'cargo-ship',\n      'car',\n      'catamaran',\n      'clone',\n      'convertible',\n      'delete',\n      'drone',\n      'fighter-plane',\n      'fire-truck',\n      'horseback-riding',\n      'motorcycle',\n      'railcar',\n      'railroad-train',\n      'rocket-boot',\n      'sailing-boat',\n      'segway',\n      'shuttle',\n      'space-shuttle',\n      'steam-engine',\n      'suv',\n      'tour-bus',\n      'tow-truck',\n      'transportation',\n      'trolleybus',\n      'water-transportation',\n    ].forEach((icon) => {\n      this.matIconRegistry.addSvgIcon(icon, this.domSanitizer.bypassSecurityTrustResourceUrl(`assets/icons/${icon}.svg`))\n    });\n  }\n\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { NgModule } from '@angular/core';\nimport { RouterModule, PreloadAllModules } from '@angular/router';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\n\nimport { SharedModule } from './shared/shared.module';\nimport { AuthModule } from './auth/auth.module';\n\nimport { AppComponent } from './app.component';\nimport { AdminModule } from './admin/admin.module';\nimport { AuthHeaderInterceptor } from './interceptors/header.interceptor';\nimport { CatchErrorInterceptor } from './interceptors/http-error.interceptor';\n\nimport { AppRoutingModule } from './app-routing/app-routing.module';\nimport { HeaderComponent } from './header/header.component';\nimport { HomeComponent } from './home/home.component';\nimport { ModelMainComponent } from './model-main/model-main.component';\nimport { ModelListComponent } from './model-list/model-list.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HeaderComponent,\n    HomeComponent,\n    ModelMainComponent,\n    ModelListComponent,\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    RouterModule,\n    SharedModule,\n    AuthModule,\n    AdminModule,\n    AppRoutingModule,\n  ],\n  providers: [{\n    provide: HTTP_INTERCEPTORS,\n    useClass: AuthHeaderInterceptor,\n    multi: true,\n  }, {\n    provide: HTTP_INTERCEPTORS,\n    useClass: CatchErrorInterceptor,\n    multi: true,\n  }],\n  entryComponents: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n\n  constructor(public router: Router) {}\n\n    canActivate() {\n      const user = (<any>window).user;\n      if (user) return true;\n\n      // not logged in so redirect to login page with the return url\n      this.router.navigate(['/auth/login']);\n      return false;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport {LoginComponent} from './login/login.component';\nimport {RegisterComponent} from './register/register.component';\n\nconst routes: Routes = [{\n  path: 'auth',\n  children: [{\n    path: '',\n    redirectTo: '/auth/login',\n    pathMatch: 'full'\n  }, {\n    path: 'login',\n    component: LoginComponent\n  }, {\n    path: 'register',\n    component: RegisterComponent\n  }]\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\n\nexport class AuthRoutingModule { }\n","module.exports = \".example-icon {\\n  padding: 0 14px; }\\n\\n.example-spacer {\\n  flex: 1 1 auto; }\\n\\n.example-card {\\n  width: 400px;\\n  margin: 10% auto; }\\n\\n.mat-card-title {\\n  font-size: 16px; }\\n\\n.title {\\n  text-align: center;\\n  font-size: 45px;\\n  color: #4b4b4b;\\n  margin: 16px 0; }\\n\\n.subtitle {\\n  text-align: center;\\n  font-size: 24px;\\n  margin-top: 0;\\n  font-size: 18px;\\n  font-weight: 300; }\\n\\n.form-group {\\n  margin-bottom: 1rem; }\\n\\n.form-group input {\\n    width: 100%;\\n    padding: 14px 16px;\\n    line-height: 1;\\n    font-weight: 300;\\n    font-family: inherit;\\n    font-size: 16px;\\n    border-radius: 3px;\\n    border: 1px solid #c3c3c3;\\n    color: inherit;\\n    background-color: white;\\n    outline: none;\\n    -webkit-appearance: none; }\\n\\n.form-group .error {\\n    color: #ff6347;\\n    font-size: 12px;\\n    margin-top: 5px;\\n    padding-left: 17px; }\\n\\n.form-submit {\\n  display: flex;\\n  justify-content: flex-end; }\\n\\n.button-link {\\n  color: #47c9af;\\n  font-weight: bold;\\n  font-family: inherit;\\n  font-size: inherit;\\n  text-decoration: none;\\n  border: none;\\n  cursor: pointer; }\\n\\n.form-footer {\\n  display: flex;\\n  justify-content: space-between;\\n  margin: 2rem 0;\\n  font-size: 14px;\\n  color: #8b8b8b;\\n  font-weight: 300; }\\n\\n.social-form {\\n  padding-top: 1rem;\\n  border-top: 1px solid #c3c3c3; }\\n\\n.social-form button {\\n    width: calc(50% - 10px);\\n    font-weight: bold;\\n    color: #8b8b8b;\\n    padding: 6px 1rem;\\n    border-radius: 3px;\\n    border: 1px solid #c3c3c3; }\\n\\n.social-form button:first-child {\\n      margin-right: 20px !important; }\\n\\n.social-form button img {\\n      position: absolute;\\n      left: 10px;\\n      height: 20px;\\n      top: 13px; }\\n\\n.auth-container {\\n  max-width: 500px;\\n  width: 100%;\\n  margin: 0 auto;\\n  padding-left: 1rem;\\n  padding-right: 1rem; }\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { SharedModule } from '../shared/shared.module';\n\nimport { LoginComponent } from './login/login.component';\nimport { RegisterComponent } from './register/register.component';\nimport { AuthService } from './auth.service';\nimport { TokenStorage } from './token.storage';\nimport { AuthRoutingModule } from './auth-routing.module';\nimport { ModelService } from '../shared/model.service';\nimport { ComponentService } from '../shared/component.service';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    AuthRoutingModule,\n  ],\n  declarations: [\n    LoginComponent,\n    RegisterComponent\n  ],\n  providers: [\n    AuthService,\n    TokenStorage,\n    ModelService,\n    ComponentService\n  ]\n})\nexport class AuthModule { }\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\nimport { Subject } from 'rxjs/Subject';\n\nimport { TokenStorage } from './token.storage';\nimport { TooltipComponent } from '@angular/material';\n\n@Injectable()\nexport class AuthService {\n\n  constructor(private http : HttpClient, private token: TokenStorage) {}\n\n  public $userSource = new Subject<any>();\n  public $error = new Subject<any>();\n\n  login(email : string, password : string) : Observable <any> {\n    return Observable.create(observer => {\n      this.http.post('/api/auth/login', {\n        email,\n        password\n      }).subscribe((data : any) => {\n          observer.next({user: data.user});\n          this.setUser(data.user);\n          this.token.saveToken(data.token);\n          observer.complete();\n      }, (e) => {this.$error.next(e)})\n    });\n  }\n\n  register(fullname : string, email : string, password : string, repeatPassword : string) : Observable <any> {\n    return Observable.create(observer => {\n      this.http.post('/api/auth/register', {\n        fullname,\n        email,\n        password,\n        repeatPassword\n      }).subscribe((data : any) => {\n        observer.next({user: data.user});\n        this.setUser(data.user);\n        this.token.saveToken(data.token);\n        observer.complete();\n      })\n    });\n  }\n\n  setUser(user): void {\n    if (user) user.isAdmin = (user.roles.indexOf('admin') > -1);\n    this.$userSource.next(user);\n    (<any>window).user = user;\n  }\n\n  getUser(): Observable<any> {\n    return this.$userSource.asObservable();\n  }\n\n  me(): Observable<any> {\n    return Observable.create(observer => {\n      const tokenVal = this.token.getToken();\n      if (!tokenVal) return  observer.complete();\n      this.http.get('/api/auth/me').subscribe((data : any) => {\n        observer.next({user: data.user});\n        this.setUser(data.user);\n        observer.complete();\n      })\n    });\n  }\n\n  signOut(): void {\n    this.token.signOut();\n    this.setUser(null);\n    delete (<any>window).user;\n  }\n}\n","module.exports = \"<h1 class=\\\"title\\\">Welcome back!</h1>\\n<p class=\\\"subtitle\\\">Log in below and make work flow.</p>\\n<p class=\\\"subtitle\\\" *ngIf=\\\"showError\\\" style=\\\"color: red\\\">Incorrect login or password</p>\\n\\n<div class=\\\"auth-container\\\">\\n  <form action=\\\"\\\">\\n    <div class=\\\"form-group\\\">\\n      <input\\n        type=\\\"text\\\"\\n        name=\\\"email\\\"\\n        class=\\\"input\\\"\\n        placeholder=\\\"Your email\\\"\\n        [(ngModel)]=\\\"email\\\"\\n      />\\n    </div>\\n    <div class=\\\"form-group\\\">\\n      <input\\n        type=\\\"password\\\"\\n        class=\\\"input\\\"\\n        [(ngModel)]=\\\"password\\\"\\n        name=\\\"password\\\"\\n        placeholder=\\\"Your password\\\"\\n      />\\n    </div>\\n    <div class=\\\"form-submit\\\">\\n      <button (click)=\\\"login()\\\" mat-raised-button color=\\\"primary\\\">\\n        Login\\n      </button>\\n    </div>\\n  </form>\\n  <div class=\\\"form-footer df jc-b\\\">\\n    <span>\\n        No account yet?\\n      <a class=\\\"button-link\\\" [routerLink]=\\\"['/auth/register']\\\">Sign up</a>\\n    </span>\\n    <span>\\n      <a class=\\\"button-link\\\">Forgot your password?</a>\\n    </span>\\n  </div>\\n  <!-- <form action=\\\"\\\" class=\\\"social-form\\\">\\n    <button mat-stroked-button>\\n      <img src=\\\"assets/icons/btn_google.svg\\\" alt=\\\"\\\" />\\n      Login with Google\\n    </button>\\n    <button mat-stroked-button>\\n      <img src=\\\"assets/icons/btn_linkedin.svg\\\" alt=\\\"\\\" />\\n      Login with LinkedIn\\n    </button>\\n  </form> -->\\n</div>\\n\\n<!-- <mat-card class=\\\"example-card\\\">\\n  <mat-card-content>\\n    <form class=\\\"example-form\\\">\\n      <table cellspacing=\\\"0\\\">\\n        <tr>\\n          <td>\\n            <mat-form-field>\\n              <input\\n                matInput\\n                placeholder=\\\"Email\\\"\\n                [(ngModel)]=\\\"email\\\"\\n                name=\\\"email\\\"\\n                required\\n              />\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td>\\n            <mat-form-field>\\n              <input\\n                matInput\\n                placeholder=\\\"Password\\\"\\n                [(ngModel)]=\\\"password\\\"\\n                type=\\\"password\\\"\\n                name=\\\"password\\\"\\n                required\\n              />\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n      </table>\\n    </form>\\n  </mat-card-content>\\n  <mat-card-actions>\\n    <button mat-raised-button (click)=\\\"login()\\\" color=\\\"primary\\\">Login</button>\\n    <span\\n      >Don't have an account ?\\n      <a [routerLink]=\\\"['/auth/register']\\\">register</a> here</span\\n    >\\n  </mat-card-actions>\\n</mat-card> -->\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport {AuthService} from '../auth.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['../auth.component.scss']\n})\nexport class LoginComponent implements OnInit {\n\n  constructor(private authService: AuthService, private router: Router) { }\n\n  email: string;\n  password: string;\n  showError;\n\n  ngOnInit() {\n    this.authService.$error.subscribe((e) => {\n      this.showError = true;\n    })\n  }\n\n  login(): void {\n    this.authService.login(this.email, this.password)\n    .subscribe(data => {\n      this.router.navigate(['model-list']);\n    })\n  }\n\n}\n","module.exports = \"<h1 class=\\\"title\\\">Create a Cogintech Account</h1>\\n<p class=\\\"subtitle\\\">Sign up below and make work flow.</p>\\n<div class=\\\"auth-container\\\">\\n  <form action=\\\"\\\" [formGroup]=\\\"userForm\\\">\\n    <div class=\\\"form-group\\\">\\n      <input\\n        type=\\\"text\\\"\\n        class=\\\"input\\\"\\n        placeholder=\\\"Your name\\\"\\n        formControlName=\\\"fullname\\\"\\n        name=\\\"fullname\\\"\\n      />\\n    </div>\\n    <div class=\\\"form-group\\\">\\n      <input\\n        type=\\\"email\\\"\\n        class=\\\"input\\\"\\n        formControlName=\\\"email\\\"\\n        name=\\\"email\\\"\\n        placeholder=\\\"Your email address\\\"\\n      />\\n      <div class=\\\"error\\\" *ngIf=\\\"userForm.controls['email'].invalid && userForm.controls['email'].touched\\\">\\n          Password mismatch\\n        </div>\\n    </div>\\n    <div class=\\\"form-group\\\">\\n      <input\\n        class=\\\"input\\\"\\n        formControlName=\\\"password\\\"\\n        type=\\\"password\\\"\\n        name=\\\"password\\\"\\n        placeholder=\\\"Choose a password\\\"\\n      />\\n    </div>\\n    <div class=\\\"form-group\\\">\\n      <input\\n        class=\\\"input\\\"\\n        formControlName=\\\"repeatPassword\\\"\\n        type=\\\"password\\\"\\n        name=\\\"repeatPassword\\\"\\n        placeholder=\\\"Repeat a password\\\"\\n      />\\n      <div class=\\\"error\\\" *ngIf=\\\"userForm.controls['repeatPassword'].invalid && userForm.controls['repeatPassword'].touched\\\">\\n        Password mismatch\\n      </div>\\n    </div>\\n    <div class=\\\"form-submit\\\">\\n      <button (click)=\\\"register()\\\" mat-raised-button color=\\\"primary\\\">\\n        Sign up free\\n      </button>\\n    </div>\\n    <div class=\\\"form-footer\\\">\\n      <span>\\n        By signing up you agree to our\\n        <a target=\\\"_blank\\\" class=\\\"button-link\\\">Terms of Use</a> and\\n        <a target=\\\"_blank\\\" class=\\\"button-link\\\">Privacy Policy</a>.\\n      </span>\\n    </div>\\n  </form>\\n  <!-- <form action=\\\"\\\" class=\\\"social-form\\\">\\n    <button mat-stroked-button>\\n      <img src=\\\"assets/icons/btn_google.svg\\\" alt=\\\"\\\" />\\n      Sign up with Google\\n    </button>\\n    <button mat-stroked-button>\\n      <img src=\\\"assets/icons/btn_linkedin.svg\\\" alt=\\\"\\\" />\\n      Sign up with LinkedIn\\n    </button>\\n  </form> -->\\n  <div class=\\\"form-footer\\\">\\n    <span>\\n      Already got an account?\\n      <a class=\\\"button-link\\\" [routerLink]=\\\"['/auth/login']\\\">Login</a>\\n    </span>\\n  </div>\\n</div>\\n\\n<!-- <mat-card class=\\\"example-card\\\">\\n  <mat-card-header>\\n    <mat-card-title>Register</mat-card-title>\\n  </mat-card-header>\\n  <mat-card-content>\\n    <form class=\\\"example-form\\\">\\n      <table cellspacing=\\\"0\\\" [formGroup]=\\\"userForm\\\">\\n        <tr>\\n          <td>\\n            <mat-form-field>\\n              <input\\n                matInput\\n                placeholder=\\\"Fullname\\\"\\n                formControlName=\\\"fullname\\\"\\n                name=\\\"fullname\\\"\\n                required\\n              />\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td>\\n            <mat-form-field>\\n              <input\\n                matInput\\n                placeholder=\\\"Email\\\"\\n                formControlName=\\\"email\\\"\\n                name=\\\"email\\\"\\n                required\\n              />\\n              <mat-error *ngIf=\\\"email.invalid && email.errors.email\\\"\\n                >Invalid email address</mat-error\\n              >\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td>\\n            <mat-form-field>\\n              <input\\n                matInput\\n                placeholder=\\\"Password\\\"\\n                formControlName=\\\"password\\\"\\n                type=\\\"password\\\"\\n                name=\\\"password\\\"\\n                required\\n              />\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td>\\n            <mat-form-field>\\n              <input\\n                matInput\\n                placeholder=\\\"Reapet Password\\\"\\n                formControlName=\\\"repeatPassword\\\"\\n                type=\\\"password\\\"\\n                name=\\\"repeatPassword\\\"\\n                required\\n              />\\n              <mat-error\\n                *ngIf=\\\"\\n                  repeatPassword.invalid && repeatPassword.errors.passwordMatch\\n                \\\"\\n                >Password mismatch</mat-error\\n              >\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n      </table>\\n    </form>\\n  </mat-card-content>\\n  <mat-card-actions>\\n    <button mat-raised-button (click)=\\\"register()\\\" color=\\\"primary\\\">\\n      Register\\n    </button>\\n    <span\\n      >Allrady have an account ?\\n      <a [routerLink]=\\\"['/auth/login']\\\">login</a> here</span\\n    >\\n  </mat-card-actions>\\n</mat-card> -->\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { FormGroup, FormControl, Validators, ValidationErrors } from '@angular/forms';\n\n\nimport {AuthService} from '../auth.service';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['../auth.component.scss']\n})\nexport class RegisterComponent implements OnInit {\n\n  constructor(private authService: AuthService, private router: Router) { }\n\n  ngOnInit() {\n  }\n\n  passwordsMatchValidator(control: FormControl): ValidationErrors {\n    let password = control.root.get('password');\n    return password && control.value !== password.value ? {\n      passwordMatch: true\n    }: null;\n  }\n\n  userForm = new FormGroup({\n    fullname: new FormControl('', [Validators.required]),\n    email: new FormControl('', [Validators.required, Validators.email]),\n    password: new FormControl('', [Validators.required]),\n    repeatPassword: new FormControl('', [Validators.required, this.passwordsMatchValidator])\n  })\n\n  get fullname(): any { return this.userForm.get('fullname'); }\n  get email(): any { return this.userForm.get('email'); }\n  get password(): any { return this.userForm.get('password'); }\n  get repeatPassword(): any { return this.userForm.get('repeatPassword'); }\n\n  register() {\n    console.log(this.userForm);\n    console.log(this.userForm.controls['repeatPassword'].invalid);\n    console.log(this.userForm.controls['repeatPassword'].touched);\n      \n    if(!this.userForm.valid) return;\n\n    let {\n      fullname,\n      email,\n      password,\n      repeatPassword\n    } = this.userForm.getRawValue();\n\n    this.authService.register(fullname, email, password, repeatPassword)\n    .subscribe(data => {\n      this.router.navigate(['']);\n    })\n  }\n\n}\n","import { Injectable } from '@angular/core';\n\n\nconst TOKEN_KEY = 'AuthToken';\n\n@Injectable()\nexport class TokenStorage {\n\n  constructor() { }\n\n  signOut() {\n    window.localStorage.removeItem(TOKEN_KEY);\n    window.localStorage.clear();\n  }\n\n  public saveToken(token: string) {\n    if (!token) return;\n    window.localStorage.removeItem(TOKEN_KEY);\n    window.localStorage.setItem(TOKEN_KEY,  token);\n  }\n\n  public getToken(): string {\n    return localStorage.getItem(TOKEN_KEY);\n  }\n}","module.exports = \"<header>\\n  <mat-toolbar color=\\\"primary\\\">\\n    <div [ngClass]=\\\"{'container': router.url.slice(1, 5) === 'auth'}\\\" class=\\\"df full-width\\\">\\n      <a [routerLink]=\\\"['/']\\\" class=\\\"logo\\\"></a>\\n      <span class=\\\"example-spacer\\\"></span>\\n      <button   *ngIf=\\\"!user\\\" [routerLink]=\\\"['/auth/register']\\\" mat-raised-button color=\\\"primary\\\" class=\\\"m-r-10\\\">\\n        Sign up free\\n      </button>\\n      <button\\n        mat-button\\n        color=\\\"primary\\\"\\n        [routerLink]=\\\"['/auth/login']\\\"\\n        *ngIf=\\\"!user\\\"\\n      >\\n        Login\\n      </button>\\n      <div>\\n        <a class=\\\"links side\\\" *ngIf=\\\"user\\\" [matMenuTriggerFor]=\\\"menu\\\">\\n          <mat-icon>account_circle</mat-icon>{{ user.fullname }}\\n        </a>\\n        <mat-menu #menu=\\\"matMenu\\\">\\n          <button\\n            mat-menu-item\\n            *ngIf=\\\"user && user.isAdmin\\\"\\n            [routerLink]=\\\"['/admin']\\\"\\n          >\\n            admin\\n          </button>\\n          <button mat-menu-item (click)=\\\"logout()\\\">logout</button>\\n        </mat-menu>\\n      </div>\\n    </div>\\n  </mat-toolbar>\\n</header>\\n\"","module.exports = \"header {\\n  width: 100%; }\\n  header .logo {\\n    background-image: url('logo.png');\\n    width: 120px;\\n    height: 40px;\\n    background-size: contain;\\n    background-repeat: no-repeat; }\\n  header .example-spacer {\\n    flex: 1 1 auto; }\\n  header .links {\\n    color: white;\\n    font-family: \\\"Helvetica Neue\\\", sans-serif;\\n    font-size: 15px;\\n    font-weight: initial;\\n    letter-spacing: -1px;\\n    line-height: 1;\\n    text-align: center;\\n    padding: 15px; }\\n  header .links.side {\\n      padding: 0 14px; }\\n  header .mat-toolbar {\\n    background: white;\\n    height: 58px;\\n    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.11);\\n    z-index: 10;\\n    position: relative; }\\n  header .mat-icon {\\n    vertical-align: middle;\\n    margin: 0 5px;\\n    color: #673ab7; }\\n  header a {\\n    cursor: pointer; }\\n\"","import { Component, OnInit, Input } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\n\nimport { AuthService } from \"../auth/auth.service\";\n\n@Component({\n  selector: \"app-header\",\n  templateUrl: \"./header.component.html\",\n  styleUrls: [\"./header.component.scss\"]\n})\nexport class HeaderComponent implements OnInit {\n  @Input() user;\n\n  constructor(private authService: AuthService, public router: Router) {}\n\n  ngOnInit() {\n  }\n\n  logout(): void {\n    this.authService.signOut();\n    this.navigate(\"/auth/login\");\n  }\n\n  navigate(link): void {\n    this.router.navigate([link]);\n  }\n}\n","module.exports = \"<p>\\n  home works!\\n</p>\\n\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import {HttpEvent, HttpInterceptor, HttpHandler, HttpRequest} from '@angular/common/http';\nimport {Observable} from 'rxjs/Observable';\nimport {TokenStorage} from '../auth/token.storage';\n\nexport class AuthHeaderInterceptor implements HttpInterceptor {\n\tintercept(req : HttpRequest <any>, next : HttpHandler) : Observable <HttpEvent<any>> {\n\t\t\t// Clone the request to add the new header\n      const token = new TokenStorage();\n      const tokenVal = token.getToken();\n\t\t\tconst clonedRequest = req.clone({\n\t\t\theaders: req\n\t\t\t\t.headers\n\t\t\t\t.set('Authorization', tokenVal ? `Bearer ${ tokenVal}` : '')\n\t\t});\n\n\t\t// Pass the cloned request instead of the original request to the next handle\n\t\treturn next.handle(clonedRequest);\n\t}\n}","import {HttpEvent, HttpInterceptor, HttpHandler, HttpRequest, HttpErrorResponse} from '@angular/common/http';\nimport {Observable} from 'rxjs/Observable';\n\nimport 'rxjs/add/operator/do';\n\nexport class CatchErrorInterceptor implements HttpInterceptor {\n  intercept(request : HttpRequest < any >, next : HttpHandler) : Observable < HttpEvent < any >> {\n\n    return next\n      .handle(request)\n      .do \n        ((event : HttpEvent < any >) => {}, (err : any) => {\n          if (err instanceof HttpErrorResponse) {\n            let text = (err.error && err.error.message) ? err.error.message : err.statusText;\n            (<any>window).globalEvents.emit('open error dialog', text);\n          }\n        });\n\n      }\n  }","module.exports = \"<div class=\\\"wrap\\\">\\n  <div class=\\\"head\\\">\\n    <div class=\\\"df ai-c\\\">\\n      <div class=\\\"title\\\">\\n        Recently Active\\n      </div>\\n      <!-- <div class=\\\"subtitle\\\">\\n        Diagrams last changed by you\\n      </div> -->\\n    </div>\\n    <div>\\n      <button\\n        (click)=\\\"openDialog()\\\"\\n        mat-raised-button\\n        color=\\\"primary\\\"\\n      >\\n        New project\\n      </button>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"model-list\\\">\\n    <div *ngFor=\\\"let item of data\\\" class=\\\"model-wrap\\\">\\n      <div [routerLink]=\\\"['/model/'+item._id]\\\" class=\\\"model\\\">\\n        <div class=\\\"img-wrap\\\">\\n          <img src=\\\"http://www.ucodice.com/kinglinkr/front/img/circle.png\\\" alt=\\\"\\\" />\\n        </div>\\n        <div>\\n          <div class=\\\"name\\\">\\n            {{item.name}}\\n          </div>\\n          <div class=\\\"desc\\\">\\n            {{item.description}}\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \".wrap {\\n  padding: 20px 40px; }\\n  .wrap .head {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    padding: 25px 0;\\n    margin-bottom: 20px;\\n    border-bottom: 1px solid rgba(0, 0, 0, 0.12); }\\n  .wrap .head .title {\\n      color: #535353;\\n      font-size: 19px;\\n      font-family: Helvetica, Arial, sans-serif;\\n      font-weight: 600; }\\n  .wrap .head .subtitle {\\n      font-size: 12px;\\n      color: #7d7d7d;\\n      margin: 0px 0px 0px 20px; }\\n  .model-list {\\n  display: flex;\\n  flex-wrap: wrap;\\n  margin-left: -6px;\\n  margin-right: -6px; }\\n  .model-wrap {\\n  padding: 12px;\\n  max-width: 50%;\\n  flex-basis: 50%;\\n  height: 182px;\\n  margin-bottom: 20px;\\n  outline: none; }\\n  .model-wrap .model {\\n    outline: none;\\n    color: #535353;\\n    transition: box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\\n    background-color: #fff;\\n    border-radius: 5px;\\n    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.11);\\n    border-width: 3px;\\n    border-style: solid;\\n    border-color: transparent;\\n    -o-border-image: initial;\\n       border-image: initial;\\n    width: 100%;\\n    height: 100%;\\n    display: flex;\\n    flex-flow: column;\\n    justify-content: space-between;\\n    cursor: pointer; }\\n  .model-wrap .model .name {\\n      color: #535353;\\n      font-size: 14px;\\n      font-weight: bold;\\n      overflow-wrap: break-word;\\n      white-space: nowrap;\\n      text-overflow: ellipsis;\\n      overflow: hidden;\\n      padding-left: 10px;\\n      transition: all 0.3s; }\\n  .model-wrap .model .desc {\\n      padding-left: 10px;\\n      padding-bottom: 10px;\\n      overflow-wrap: break-word;\\n      white-space: nowrap;\\n      text-overflow: ellipsis;\\n      overflow: hidden;\\n      line-height: 1.618;\\n      font-size: 0.75em;\\n      font-weight: 100;\\n      font-family: Helvetica, Arial, sans-serif; }\\n  .model-wrap .model .img-wrap {\\n      width: 100%;\\n      height: 100%;\\n      position: relative;\\n      display: flex;\\n      align-items: center;\\n      justify-content: center; }\\n  .model-wrap .model .img-wrap img {\\n        height: 100%;\\n        position: absolute; }\\n  .model-wrap .model:hover .name {\\n      color: #673ab7; }\\n  @media (min-width: 600px) {\\n  .model-wrap {\\n    flex-grow: 0;\\n    max-width: 33.333333%;\\n    flex-basis: 33.333333%; } }\\n\"","import { Component, OnInit } from '@angular/core';\nimport { ModelService } from '../shared/model.service';\nimport { AuthService } from '../auth/auth.service';\nimport { Router } from '@angular/router';\nimport { MatDialog } from '@angular/material';\nimport { DialogCreateModelComponent } from '../shared/components/dialog-create-model/dialog-create-model.component';\nimport { ModelClass } from '../shared/model';\n\n@Component({\n  selector: 'app-model-list',\n  templateUrl: './model-list.component.html',\n  styleUrls: ['./model-list.component.scss']\n})\nexport class ModelListComponent implements OnInit {\n  user;\n  model = new ModelClass();\n  data: ModelClass[];\n  constructor(\n    private modelService: ModelService,\n    private authService: AuthService,\n    private router: Router,\n    public dialog: MatDialog,\n  ) { }\n\n  ngOnInit() {\n    this.authService.me().subscribe(data => {\n      this.user = data.user;\n      console.log(data)\n      this.modelService.getAllById(this.user._id).subscribe((data: any) => {\n        console.log(data)\n        this.data = data;\n      });\n    });\n  }\n\n  openDialog(): void {\n    const dialogRef = this.dialog.open(DialogCreateModelComponent, {\n      width: '450px',\n      data: {\n        id: \"mod\" + (this.data.length + 1)\n      }\n    });\n    dialogRef.afterClosed().subscribe(model => {\n      if (model) {\n        model.userId = this.user._id;\n        this.modelService.create(model).subscribe((data: any) => {\n          console.log(data)\n          this.router.navigate([\"model/\" + data._id])\n        })\n      }\n    });\n  }\n\n}\n","module.exports = \"<div class=\\\"bpm-wrap\\\">\\n  <div class=\\\"palette-entries\\\">\\n    <div *ngFor=\\\"let item of types\\\" class=\\\"bpm-item\\\">\\n      <div [id]=\\\"item\\\" [draggable]=\\\"true\\\" [ngStyle]=\\\"{'background': colors[item]}\\\"\\n       class=\\\"square\\\" [title]=\\\"item\\\" tooltipPosition=\\\"top\\\">\\n      {{item}}\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"coco-bpm-graph\\\" id=\\\"graph\\\" style=\\\"height: calc(100vh - 60px);\\\"></div>\\n  <!-- <div class=\\\"clickShield\\\" *ngIf=\\\"showSide\\\" (click)=\\\"showSide = false\\\"></div> -->\\n  <div (click)=\\\"showSide = !showSide\\\" class=\\\"toggle-sidebar-btn\\\" [ngClass]=\\\"{ 'active': showSide }\\\">\\n    <a mat-raised-button>\\n      <i class=\\\"material-icons\\\">\\n        menu_open\\n      </i>\\n    </a>\\n  </div>\\n  <div [ngClass]=\\\"{ show: showSide }\\\" *ngIf=\\\"selectedModal\\\" class=\\\"sidebar show\\\">\\n    <mat-form-field class=\\\"example-full-width\\\">\\n      <mat-label>Id (latin simbols and digits)</mat-label>\\n      <input matInput [(ngModel)]=\\\"data[selectedModal].id\\\" (keydown)=\\\"onKeyDown($event)\\\"\\n      (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\"/>\\n    </mat-form-field>\\n    <mat-form-field class=\\\"example-full-width\\\">\\n      <mat-label>Name</mat-label>\\n      <input matInput [(ngModel)]=\\\"data[selectedModal].name\\\" \\n      (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\" />\\n    </mat-form-field>\\n    <mat-form-field>\\n      <mat-label>ObjectClass</mat-label>\\n      <mat-select [(ngModel)]=\\\"data[selectedModal].objectClass\\\" \\n      (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\">\\n        <mat-option value=\\\"Board\\\">\\n          Board\\n        </mat-option>\\n        <mat-option value=\\\"Input\\\">\\n          Input\\n        </mat-option>\\n        <mat-option value=\\\"Output\\\">\\n          Output\\n        </mat-option>\\n        <mat-option value=\\\"InputOutput\\\">\\n          InputOutput\\n        </mat-option>\\n        <mat-option value=\\\"Process\\\">\\n          Process\\n        </mat-option>\\n      </mat-select>\\n    </mat-form-field>\\n    <mat-form-field class=\\\"example-full-width\\\">\\n      <input matInput placeholder=\\\"ObjectType\\\" [(ngModel)]=\\\"data[selectedModal].objectType\\\"\\n      (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\" />\\n    </mat-form-field>\\n    <mat-form-field class=\\\"example-full-width\\\">\\n      <textarea matInput placeholder=\\\"Description\\\" [(ngModel)]=\\\"data[selectedModal].description\\\"\\n      (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\"></textarea>\\n    </mat-form-field>\\n    <!-- <div class=\\\"input-btn-wrap\\\">\\n      <mat-form-field class=\\\"example-full-width\\\">\\n        <input readonly [(ngModel)]=\\\"picture\\\" matInput placeholder=\\\"Picture\\\" />\\n      </mat-form-field>\\n      <input #file [(ngModel)]=\\\"picture\\\" hidden type=\\\"file\\\" />\\n      <button (click)=\\\"file.click()\\\" mat-raised-button color=\\\"primary\\\" class=\\\"btn\\\">\\n        <i class=\\\"material-icons\\\">\\n          forward\\n        </i>\\n      </button>\\n    </div> -->\\n    <table class=\\\"table\\\">\\n      <tr>\\n        <th style=\\\"text-align: left;\\\">Parameters</th>\\n        <th></th>\\n        <th>M</th>\\n        <th>C</th>\\n        <th>S</th>\\n        <th></th>\\n      </tr>\\n\\n      <tbody *ngFor=\\\"let item of data[selectedModal].parameters.slice().reverse(); let i = index\\\">\\n        <tr>\\n          <td>\\n            {{item.name}}\\n          </td>\\n          <td>\\n            <mat-form-field *ngIf=\\\"(item.value && item.value.charAt(0) !== '=') || !item.value\\\" class=\\\"example-full-width table-input\\\">\\n              <input matInput [(ngModel)]=\\\"item.value\\\" \\n              (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\" />\\n            </mat-form-field>\\n            <span *ngIf=\\\"item.value && item.value.charAt(0) === '=' \\\">\\n              f (x)\\n            </span>\\n          </td>\\n          <td>\\n            <div class=\\\"df jc-c\\\">\\n              <mat-checkbox [(ngModel)]=\\\"item.measurable\\\" \\n              (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\"></mat-checkbox>\\n            </div>\\n          </td>\\n          <td>\\n            <div class=\\\"df jc-c\\\">\\n              <mat-checkbox [(ngModel)]=\\\"item.changeable\\\" \\n              (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\"></mat-checkbox>\\n            </div>\\n          </td>\\n          <td>\\n            <div class=\\\"df jc-c\\\">\\n              <mat-checkbox [(ngModel)]=\\\"item.showOnDiagram\\\" \\n              (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\"></mat-checkbox>\\n            </div>\\n          </td>\\n          <td>\\n            <div class=\\\"df jc-c ai-c\\\">\\n              <button class=\\\"table-more-btn\\\" mat-icon-button\\n                (click)=\\\"optionsModal[item._id + index] = !optionsModal[item._id + index]\\\">\\n                <i class=\\\"material-icons-outlined\\\">\\n                  arrow_drop_down_circle\\n                </i>\\n              </button>\\n            </div>\\n          </td>\\n        </tr>\\n        <tr *ngIf=\\\"optionsModal[item._id + index]\\\">\\n          <td colspan=\\\"6\\\">\\n            <mat-accordion>\\n              <mat-expansion-panel [expanded]=\\\"true\\\">\\n                <mat-expansion-panel-header>\\n                  <mat-panel-title>\\n                    Personal data\\n                  </mat-panel-title>\\n                </mat-expansion-panel-header>\\n\\n                <div class=\\\"loop-item desc\\\">\\n                  <mat-form-field class=\\\"example-full-width\\\">\\n                    <input matInput placeholder=\\\"Id (latin simbols and digits)\\\" (keydown)=\\\"onKeyDown($event)\\\" [(ngModel)]=\\\"item.id\\\"\\n                    (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\" />\\n                  </mat-form-field>\\n                  <mat-form-field class=\\\"example-full-width\\\">\\n                    <input matInput placeholder=\\\"Name\\\" [(ngModel)]=\\\"item.name\\\"\\n                    (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\" />\\n                  </mat-form-field>\\n                  <mat-form-field class=\\\"example-full-width\\\">\\n                    <textarea matInput placeholder=\\\"Description\\\" [(ngModel)]=\\\"item.description\\\"\\n                    (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\"></textarea>\\n                  </mat-form-field>\\n                  <div class=\\\"input-btn-wrap\\\">\\n                    <mat-form-field *ngIf=\\\"item.value && item.value.charAt(0) !== '=' \\\" class=\\\"example-full-width\\\">\\n                      <input matInput placeholder=\\\"Value\\\" [(ngModel)]=\\\"item.value\\\"\\n                      (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\"/>\\n                    </mat-form-field>\\n                    <span *ngIf=\\\"item.value && item.value.charAt(0) === '=' \\\" class=\\\"example-full-width\\\">Value = f (x)</span>\\n\\n                    <button (click)=\\\"openDialog(item)\\\" mat-raised-button color=\\\"primary\\\" class=\\\"btn\\\">\\n                      <i>\\n                        f(x)\\n                      </i>\\n                    </button>\\n                  </div>\\n                  <mat-form-field>\\n                    <mat-label>Feature label</mat-label>\\n                    <mat-select>\\n                      <mat-option value=\\\"1\\\">\\n                        1\\n                      </mat-option>\\n                      <mat-option value=\\\"2\\\">\\n                        2\\n                      </mat-option>\\n                      <mat-option value=\\\"3\\\">\\n                        3\\n                      </mat-option>\\n                    </mat-select>\\n                  </mat-form-field>\\n                  <div class=\\\"chekboxs-list\\\">\\n                    <mat-checkbox [(ngModel)]=\\\"item.measurable\\\" \\n                    (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\">Measurable\\n                    </mat-checkbox>\\n                    <mat-checkbox [(ngModel)]=\\\"item.changeable\\\" \\n                    (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\">Changeable\\n                    </mat-checkbox>\\n                    <mat-checkbox [(ngModel)]=\\\"item.showOnDiagram\\\" \\n                    (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\">Show on\\n                      diagram</mat-checkbox>\\n                    <mat-checkbox [(ngModel)]=\\\"item.showName\\\" \\n                    (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\">Show name\\n                    </mat-checkbox>\\n                  </div>\\n                  <mat-form-field *ngIf=\\\"item.showOnDiagram\\\">\\n                    <mat-label>Control type</mat-label>\\n                    <mat-select [(ngModel)]=\\\"item.controlType\\\" \\n                    (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\">\\n                      <mat-option value=\\\"Value\\\">\\n                        Value\\n                      </mat-option>\\n                      <mat-option value=\\\"Input\\\">\\n                        Input\\n                      </mat-option>\\n                      <mat-option value=\\\"Slider\\\">\\n                        Slider\\n                      </mat-option>\\n                    </mat-select>\\n                  </mat-form-field>\\n                  <mat-form-field *ngIf=\\\"item.controlType === 'Slider'\\\">\\n                    <input matInput placeholder=\\\"Slider Step\\\" [(ngModel)]=\\\"item.sliderStep\\\" \\n                    (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\" />\\n                  </mat-form-field>\\n                  <mat-form-field *ngIf=\\\"item.controlType === 'Slider'\\\">\\n                    <input matInput placeholder=\\\"Slider Max\\\" [(ngModel)]=\\\"item.sliderMax\\\" \\n                    (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\" />\\n                  </mat-form-field>\\n                  <mat-form-field *ngIf=\\\"item.controlType === 'Slider'\\\">\\n                    <input matInput placeholder=\\\"Slider Min\\\" [(ngModel)]=\\\"item.sliderMin\\\" \\n                    (keyup.enter)=\\\"onFieldChange($event)\\\" (blur)=\\\"onFieldChange($event)\\\" />\\n                  </mat-form-field>\\n                </div>\\n              </mat-expansion-panel>\\n            </mat-accordion>\\n          </td>\\n        </tr>\\n      </tbody>\\n\\n    </table>\\n\\n    <div class=\\\"m-t-10 m-b-10\\\">\\n      <button mat-raised-button color=\\\"accent\\\" (click)=\\\"addParametr()\\\">+ Add parameter</button>\\n    </div>\\n\\n    <div class=\\\"loop-item\\\">\\n      <mat-form-field class=\\\"example-full-width\\\">\\n        <input matInput placeholder=\\\"Id (latin simbols and digits)\\\" (keydown)=\\\"onKeyDown($event)\\\" [(ngModel)]=\\\"newParametr.id\\\" />\\n      </mat-form-field>\\n      <mat-form-field class=\\\"example-full-width\\\">\\n        <input matInput placeholder=\\\"Name\\\" [(ngModel)]=\\\"newParametr.name\\\" />\\n      </mat-form-field>\\n      <mat-form-field class=\\\"example-full-width\\\">\\n        <textarea matInput placeholder=\\\"Description\\\" [(ngModel)]=\\\"newParametr.description\\\"></textarea>\\n      </mat-form-field>\\n      <div class=\\\"input-btn-wrap\\\">\\n        <mat-form-field class=\\\"example-full-width\\\">\\n          <input matInput placeholder=\\\"Value\\\" [(ngModel)]=\\\"newParametr.value\\\" />\\n        </mat-form-field>\\n        <button (click)=\\\"openDialog(newParametr)\\\" mat-raised-button color=\\\"primary\\\" class=\\\"btn\\\">\\n          <i>\\n            f(x)\\n          </i>\\n        </button>\\n      </div>\\n      <mat-form-field>\\n        <mat-label>Feature label</mat-label>\\n        <mat-select [(ngModel)]=\\\"newParametr.featureLabelNone\\\">\\n          <mat-option value=\\\"1\\\">\\n            1\\n          </mat-option>\\n          <mat-option value=\\\"2\\\">\\n            2\\n          </mat-option>\\n          <mat-option value=\\\"3\\\">\\n            3\\n          </mat-option>\\n        </mat-select>\\n      </mat-form-field>\\n      <div class=\\\"chekboxs-list\\\">\\n        <mat-checkbox [(ngModel)]=\\\"newParametr.measurable\\\">Measurable</mat-checkbox>\\n        <mat-checkbox [(ngModel)]=\\\"newParametr.changeable\\\">Changeable</mat-checkbox>\\n        <mat-checkbox [(ngModel)]=\\\"newParametr.showOnDiagram\\\">Show on diagram</mat-checkbox>\\n        <mat-checkbox [(ngModel)]=\\\"newParametr.showName\\\">Show name</mat-checkbox>\\n      </div>\\n      <mat-form-field *ngIf=\\\"newParametr.showOnDiagram\\\">\\n        <mat-label>Control type</mat-label>\\n        <mat-select [(ngModel)]=\\\"newParametr.controlType\\\">\\n          <mat-option value=\\\"Value\\\">\\n            Value\\n          </mat-option>\\n          <mat-option value=\\\"Input\\\">\\n            Input\\n          </mat-option>\\n          <mat-option value=\\\"Slider\\\">\\n            Slider\\n          </mat-option>\\n        </mat-select>\\n      </mat-form-field>\\n      <mat-form-field *ngIf=\\\"newParametr.controlType === 'Slider'\\\">\\n        <input matInput placeholder=\\\"Slider Step\\\" [(ngModel)]=\\\"newParametr.sliderStep\\\" />\\n      </mat-form-field>\\n      <mat-form-field *ngIf=\\\"newParametr.controlType === 'Slider'\\\">\\n        <input matInput placeholder=\\\"Slider Max\\\" [(ngModel)]=\\\"newParametr.sliderMax\\\" />\\n      </mat-form-field>\\n      <mat-form-field *ngIf=\\\"newParametr.controlType === 'Slider'\\\">\\n        <input matInput placeholder=\\\"Slider Min\\\" [(ngModel)]=\\\"newParametr.sliderMin\\\" />\\n      </mat-form-field>\\n    </div>\\n  </div>\\n</div>\"","module.exports = \".bpm-wrap {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  background: white;\\n  border: 1px solid #ececec;\\n  overflow: hidden;\\n  min-height: calc(100vh - 58px); }\\n\\n.palette-entries {\\n  position: absolute;\\n  padding: 5px 0;\\n  left: 20px;\\n  top: 20px;\\n  width: 94px;\\n  border-radius: 5px;\\n  background: #fafafa;\\n  border: 1px solid #ccc;\\n  display: flex;\\n  flex-wrap: wrap; }\\n\\n.palette-entries .bpm-item {\\n    width: 100%;\\n    height: 25px;\\n    line-height: 46px;\\n    cursor: default;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center; }\\n\\n.palette-entries .bpm-item .icon {\\n      color: #333;\\n      font-size: 30px; }\\n\\n.palette-entries .bpm-item:hover .icon {\\n      color: #ff7400; }\\n\\n.palette-entries .bpm-item .square {\\n      width: calc(100% - 10px);\\n      height: 23px;\\n      border-radius: 5px;\\n      border: 2px solid;\\n      display: flex;\\n      align-items: center;\\n      font-size: 13px;\\n      padding-left: 3px; }\\n\\n.palette-entries .separator {\\n    margin: 0 5px;\\n    padding-top: 5px;\\n    border: none;\\n    border-bottom: 1px solid #ddd;\\n    clear: both;\\n    width: 100%; }\\n\\n.sidebar {\\n  position: absolute;\\n  width: 100%;\\n  max-width: 400px;\\n  background-color: white;\\n  -webkit-transform: translate(100%, 0);\\n          transform: translate(100%, 0);\\n  transition: all 0.4s;\\n  height: 100%;\\n  right: 0;\\n  top: 0;\\n  padding: 15px;\\n  overflow-y: auto; }\\n\\n.sidebar.show {\\n    -webkit-transform: translate(0, 0);\\n            transform: translate(0, 0);\\n    box-shadow: rgba(0, 0, 0, 0.1) -8px 0px 5px -4px;\\n    z-index: 111; }\\n\\nmat-form-field {\\n  display: block; }\\n\\n.input-btn-wrap {\\n  display: flex;\\n  align-items: center; }\\n\\n.input-btn-wrap mat-form-field {\\n    width: 100%; }\\n\\n.input-btn-wrap button.btn {\\n    min-width: 0;\\n    padding: 0 6px;\\n    margin-left: 25px;\\n    min-width: 35px; }\\n\\n.input-btn-wrap button.btn .material-icons {\\n      -webkit-transform: rotate(-90deg);\\n              transform: rotate(-90deg); }\\n\\ntable {\\n  width: 100%; }\\n\\ntable td {\\n    padding: 0; }\\n\\ntable th {\\n    padding: 0; }\\n\\n.chekboxs-list {\\n  display: flex;\\n  flex-wrap: wrap;\\n  margin-top: 10px;\\n  margin-bottom: 5px; }\\n\\n.chekboxs-list mat-checkbox {\\n    width: 50%; }\\n\\n.loop-item {\\n  padding-bottom: 20px;\\n  border-bottom: 1px dashed #b7b7b7;\\n  padding: 5px 10px;\\n  padding-bottom: 10px;\\n  border: 1px dashed #b7b7b7; }\\n\\n.loop-item.desc {\\n    padding: 0 !important;\\n    border: none !important; }\\n\\n.clickShield {\\n  position: fixed;\\n  background: #0000003d;\\n  width: 100%;\\n  height: 100%;\\n  top: 0; }\\n\\n.toggle-sidebar-btn {\\n  position: absolute;\\n  top: calc(50% - 18px);\\n  right: 0;\\n  transition: all .4s; }\\n\\n.toggle-sidebar-btn.active {\\n    -webkit-transform: translate(-400px, 0);\\n            transform: translate(-400px, 0); }\\n\\n.toggle-sidebar-btn a {\\n    width: 29px;\\n    min-width: unset;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    padding: 0; }\\n\"","import { Component, OnInit, OnDestroy, HostListener, AfterViewInit } from '@angular/core';\nimport { ModelService } from '../shared/model.service';\nimport { ComponentService } from '../shared/component.service';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { DialogParametersComponent } from '../shared/components/dialog-parameters/dialog-parameters.component';\nimport { ComponentClass, ParameterClass } from '../shared/model';\nimport { ActivatedRoute } from '@angular/router';\nimport { Subject } from \"rxjs\";\nimport { debounceTime, distinctUntilChanged } from \"rxjs/internal/operators\";\nimport { AuthService } from '../auth/auth.service';\ndeclare var d3;\n@Component({\n  selector: 'app-model-main',\n  templateUrl: './model-main.component.html',\n  styleUrls: ['./model-main.component.scss']\n})\nexport class ModelMainComponent implements OnInit, AfterViewInit, OnDestroy {\n  types = [\n    \"Input\",\n    \"Output\",\n    \"InputOutput\",\n    \"Process\",\n    \"Board\"\n  ];\n\n  colors = {\n    \"Input\": \"#f2f2f2\",\n    \"Output\": \"#fbe5d6\",\n    \"InputOutput\": \"#e2f0d9\",\n    \"Process\": \"#b4c7e7\",\n    \"Board\": \"#ffe699\"\n  }\n\n  picture;\n  zoom;\n  zoomTrans;\n  conteiner;\n  dragType;\n  isStart;\n  vis;\n  data = [];\n  start_x;\n  start_y;\n  activeArrow;\n  selected;\n  startDrowLine;\n  marker;\n  modelId;\n  showSide;\n  selectedModal;\n  optionsModal = {};\n  dragSelected;\n  user;\n  modelList;\n  setInterval;\n  formulaSaverOld = {};\n  saverComponent = [];\n\n  constructor(\n    private modelService: ModelService,\n    private componentService: ComponentService,\n    public dialog: MatDialog,\n    private authService: AuthService,\n    private activatedRoute: ActivatedRoute\n  ) {\n    this.modelId = this.activatedRoute.snapshot.paramMap.get('id');\n    this.authService.me().subscribe(data => {\n      this.user = data.user;\n      this.modelService.getAllById(this.user._id).subscribe((data: any) => {\n        console.log(data);\n        this.componentService.getAllByUserId(this.user._id).subscribe((data: any) => {\n          this.formulaData = data;\n        });\n        this.modelList = data;\n        this.componentService.getAllById(this.modelId).subscribe((data: any) => {\n          this.data = data;\n          this.saverComponent = [JSON.parse(JSON.stringify( this.data ))];\n          console.log(data);\n\n          this.calc();\n          setTimeout(() => {\n            this.drow();\n          }, 1000);\n        });\n      });\n    });\n\n    // this.setInterval = setInterval(() => {\n    //   this.removeAll()\n    //   this.drowLines()\n    //   this.drow();\n    //   this.txtQueryChanged.next(this.uuidv4());\n    // }, 5000);\n\n    this.txtQueryChanged\n      // .pipe(debounceTime(800), distinctUntilChanged())\n      .subscribe(model => {\n        this.saverComponent.push(JSON.parse(JSON.stringify( this.data )));\n\n        let id = this.data[model.selected];\n        if (id) {\n          this.componentService.update(id).subscribe((data) => {\n          });\n\n          if (!model.drag) {\n            this.componentService.getAllByUserId(this.user._id).subscribe((data: any) => {\n              this.formulaData = data;\n              this.formulaSaverOld = Object.assign(this.formulaSaver, {});\n              this.formulaSaver = {};\n              this.calc();\n            });\n          }\n        }\n        if (!model.drag)\n          setTimeout(() => {\n            this.removeAll();\n            this.drow();\n          }, 1000);\n      });\n  }\n\n  calc() {\n    this.data.forEach((comp) => {\n      comp.parameters.forEach(element => {\n        if (element.value) {\n          let v = element.value;\n          let spcaSpit = v.split(\" \");\n\n          spcaSpit.forEach((element, index) => {\n            let earr = element.split(\".\");\n            if (earr.length == 3) {\n              if (!this.formulaSaver[earr[2]] && !this.formulaSaver[element]) {\n                this.formulaSearch(element);\n              }\n            }\n          });\n        }\n      });\n    });\n\n  }\n\n  clear() {\n    this.selected = null;\n    this.activeArrow = null;\n    this.clickArrow = null;\n    this.selectedLine = null;\n    this.selectedLineId = null;\n    this.selectedLineFrom = null;\n    this.selectedLineTo = null;\n    this.startDrowLine = null;\n    this.removeAll();\n    this.drowLines();\n    this.drow();\n  }\n\n  @HostListener(\"document:keyup\", [\"$event\"])\n  keyEvent(event: KeyboardEvent) {\n    // if (\n    //   (event.keyCode === 46 || event.keyCode === 8) && this.selected\n    // ) {\n    //   this.saverComponent.push(JSON.parse(JSON.stringify( this.data )));\n    //   this.componentService.delete(this.data[this.selected]).subscribe((data) => {\n    //     this.data.splice(this.selected, 1);\n\n    //     this.clear();\n    //   });\n    // }\n\n    if (event.keyCode === 90 && (event.ctrlKey || event.metaKey)) {\n      if (this.saverComponent) {\n        let arr = this.saverComponent[this.saverComponent.length - 2];\n        if (arr && this.saverComponent.length > 1) {\n          this.data = JSON.parse(JSON.stringify( arr ));\n          this.saverComponent.pop();\n          this.clear();\n          this.data.forEach(element => {\n            this.componentService.update(element).subscribe((data) => {\n            });\n          });\n        }\n      }\n    }\n\n    if (event.keyCode === 27) {\n      if (this.startDrowLine) {\n        this.removeAll();\n        document.documentElement.style.cursor = \"default\";\n        this.clear();\n      }\n\n      if (!this.clickArrow) {\n        this.unselectArrow();\n      }\n    }\n\n    if ((event.keyCode === 46 || event.keyCode === 8) && (this.selectedLineId || this.selectedLineId === 0)) {\n      this.selectedLineFrom.selected.forEach((id, index) => {\n        if (id === this.selectedLineTo._id) {\n          this.saverComponent.push(JSON.parse(JSON.stringify( this.data )));\n          this.data.forEach((element, i) => {\n            if (element._id === this.selectedLineFrom._id) {\n              this.data[i].selected.splice(index, 1);\n\n              this.txtQueryChanged.next({\n                value: this.selectedLine,\n                selected: i\n              });\n            }\n          });\n\n        }\n      });\n      this.clear();\n    }\n  }\n\n  openDialogItem;\n  slider;\n\n  openDialog(item): void {\n    this.openDialogItem = item;\n    const dialogRef = this.dialog.open(DialogParametersComponent, {\n      width: '450px',\n      data: {\n        list: this.modelList,\n        formula: item.value,\n        modelId: this.modelId\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      item.value = result.formula;\n      this.txtQueryChanged.next({\n        value: item.value,\n        selected: this.selectedModal\n      });\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  ngOnDestroy() {\n    clearInterval(this.setInterval);\n  }\n\n  ngAfterViewInit() {\n    this.init();\n  }\n\n  init() {\n\n    this.menuInit();\n\n    this.zoom = d3\n      .zoom()\n      .scaleExtent([0.1, 2])\n      .on(\"zoom\", () => {\n        this.zoomTrans = d3.event.transform;\n        // this.conteiner.attr(\"transform\", d3.event.transform);\n        const currentTransform = d3.event.transform;\n        if (!currentTransform.x) {\n          currentTransform.x = 0;\n          currentTransform.y = 0;\n        }\n        this.conteiner.attr(\"transform\", currentTransform);\n        this.slider.property(\"value\", currentTransform.k);\n        this.rangeWidth();\n\n      });\n    this.vis = d3.select(\"#graph\").append(\"svg\");\n    var w = \"100%\",\n      h = \"100%\";\n    this.vis\n      .attr(\"width\", w)\n      .attr(\"height\", h)\n      .on(\"click\", () => {\n        // if (!this.readOnly) {\n        //   this.unselect();\n\n        if (this.startDrowLine) {\n          this.removeAll();\n          this.startDrowLine = null;\n          this.activeArrow = null;\n          document.documentElement.style.cursor = \"default\";\n          this.drow();\n        }\n\n        if (!this.clickArrow) {\n          this.unselectArrow();\n        }\n\n\n      });\n    this.vis.call(this.zoom).on(\"dblclick.zoom\", null);\n\n    this.conteiner = this.vis.append(\"g\").attr(\"id\", \"wrap\");\n    let g = d3\n      .select(\"#graph\")\n      .append(\"div\")\n      .datum({})\n      .attr(\"class\", \"coco-bpm-d3-zoom-wrap\");\n    let g1 = g;\n    let icon = g1\n      .append(\"svg\")\n      .attr(\"width\", \"14\")\n      .attr(\"height\", \"14\")\n      .attr(\"viewBox\", \"0 0 14 14\")\n      .append(\"g\")\n      .attr(\"fill\", \"#2196F3\")\n      .attr(\"fill-rule\", \"nonzero\");\n    icon\n      .append(\"path\")\n      .attr(\n        \"d\",\n        \"M12.316 9.677a5.677 5.677 0 0 0 0-8.019 5.676 5.676 0 0 0-8.019 0 5.56 5.56 0 0 0-.853 6.843s.094.158-.033.284L.518 11.678c-.575.576-.712 1.381-.202 1.892l.088.088c.51.51 1.316.373 1.892-.202l2.886-2.887c.133-.133.29-.04.29-.04a5.56 5.56 0 0 0 6.844-.852zM5.344 8.63a4.194 4.194 0 0 1 0-5.925 4.194 4.194 0 0 1 5.925 0 4.194 4.194 0 0 1 0 5.925 4.195 4.195 0 0 1-5.925 0z\"\n      );\n    icon\n      .append(\"path\")\n      .attr(\n        \"d\",\n        \"M5.706 5.331a.584.584 0 0 1-.539-.813A3.688 3.688 0 0 1 9.996 2.56a.585.585 0 0 1-.457 1.078 2.516 2.516 0 0 0-3.294 1.336.585.585 0 0 1-.54.357z\"\n      );\n    let g2 = g1\n      .append(\"div\")\n      .datum({})\n      .attr(\"class\", \"coco-bpm-slider-wrap\");\n\n    this.slider = g2\n      .append(\"input\")\n      .datum({})\n      .attr(\"type\", \"range\")\n      .attr(\"class\", \"coco-bpm-slider\")\n      .attr(\"id\", \"range\")\n      .attr(\"value\", 1)\n      .attr(\"min\", 0.1)\n      .attr(\"max\", 2)\n      .attr(\"step\", 0.01)\n      .on(\"input\", () => {\n        this.zoom.scaleTo(this.vis, d3.select(\"#range\").property(\"value\"));\n        this.rangeWidth();\n      });\n\n    g2.append(\"div\")\n      .datum({})\n      .attr(\"class\", \"coco-bpm-line-range\")\n      .attr(\"id\", \"lineZoomRange\");\n\n    document.getElementById(\"graph\").addEventListener(\"mousemove\", e => {\n      let dummyX = e.offsetX;\n      let dummyY = e.offsetY;\n\n      if (this.startDrowLine && this.data[this.startDrowLine]) {\n        this.removeAll();\n        d3.selectAll(\"#drowLine\").remove();\n        let x, y;\n        if (\n          document.getElementById(\"wrap\").getAttribute(\"transform\") === null\n        ) {\n          x = e.offsetX;\n          y = e.offsetY;\n        } else {\n          x = (e.offsetX - this.zoomTrans.x) / this.zoomTrans.k;\n          y = (e.offsetY - this.zoomTrans.y) / this.zoomTrans.k;\n        }\n\n        var d = {\n          source: {\n            x: this.data[this.startDrowLine].x + 20,\n            y: this.data[this.startDrowLine].y\n          },\n          target: {\n            x: x,\n            y: y\n          }\n        };\n        var link = d3\n          .linkHorizontal()\n          .x(function (d) {\n            return d.x;\n          })\n          .y(function (d) {\n            return d.y;\n          });\n\n        this.conteiner\n          .append(\"path\")\n          .attr(\"class\", \"path\")\n          .attr(\"id\", \"drowLine\")\n          .attr(\"d\", link(d))\n          .style(\"fill\", \"none\")\n          .style(\"stroke\", \"#555\")\n          .attr(\"stroke-opacity\", 0.4)\n          .attr(\"stroke-width\", 1.5);\n\n        this.conteiner\n          .append(\"polyline\")\n          .attr(\n            \"points\",\n            d.source.x +\n            \",\" +\n            d.source.y +\n            \" \" +\n            (d.source.x + d.target.x) / 2 +\n            \",\" +\n            (d.source.y + d.target.y) / 2 +\n            \" \" +\n            d.target.x +\n            \",\" +\n            d.target.y\n          )\n\n          .style(\"fill\", \"none\");\n\n        this.drow();\n      }\n    });\n\n    this.marker = this.conteiner\n      .append(\"svg:defs\")\n      .append(\"svg:marker\")\n      .attr(\"id\", \"triangle\")\n      .attr(\"refX\", 6)\n      .attr(\"refY\", 6)\n      .attr(\"markerWidth\", 30)\n      .attr(\"markerHeight\", 30)\n      .attr(\"orient\", \"auto\");\n    this.marker\n      .append(\"path\")\n      .attr(\"class\", \"path\")\n      .attr(\"d\", \"M 0 0 12 6 0 12 3 6\")\n      .style(\"fill\", \"#999\");\n  }\n\n\n  menuInit() {\n    this.types.forEach(type => {\n      if (document.getElementById(type)) {\n        document.getElementById(type).addEventListener(\n          \"dragstart\",\n          ev => {\n            this.dragType = type;\n            if (this.isStart && type === \"Start\") {\n              event.preventDefault();\n            }\n          },\n          false\n        );\n      }\n    });\n\n    document.addEventListener(\"dragover\", function (event) {\n      event.preventDefault();\n    });\n    document.getElementById(\"graph\").addEventListener(\n      \"drop\",\n      ev => {\n        let x, y;\n        if (\n          document.getElementById(\"wrap\").getAttribute(\"transform\") === null\n        ) {\n          x = ev.offsetX;\n          y = ev.offsetY;\n        } else {\n          x = (ev.offsetX - this.zoomTrans.x) / this.zoomTrans.k;\n          y = (ev.offsetY - this.zoomTrans.y) / this.zoomTrans.k;\n        }\n        ev.preventDefault();\n        let model = new ComponentClass();\n        model.x = x;\n        model.y = y;\n        model.objectClass = this.dragType;\n        model.modelId = this.modelId;\n        model.userId = this.user._id;\n        model.id = this.dragType + (this.data.filter(value => value.objectClass === this.dragType).length + 1);\n        let p1 = new ParameterClass(\"Price\" + model.id, \"Price\", \"0\", 1);\n        let p2 = new ParameterClass(\"Speed\" + model.id, \"Speed\", \"0\", 1);\n        let p3 = new ParameterClass(\"CostPrice\" + model.id, \"CostPrice\", \"0\", 1);\n        model.parameters = [p1, p2, p3];\n        this.componentService.create(model).subscribe((data) => {\n          this.saverComponent.push(JSON.parse(JSON.stringify( this.data )));\n          this.data.push(data);\n          this.removeAll();\n          this.drow();\n          this.dragType = null;\n        });\n      },\n      false\n    );\n  }\n\n  drow() {\n    this.drowLines();\n\n    this.data.forEach((element, index, arr) => {\n      switch (element.objectClass) {\n        case \"Input\":\n        case \"Output\":\n        case \"InputOutput\":\n        case \"Process\":\n        case \"Board\":\n          let d, dx, dy, color;\n          dx = element.x - 10;\n          dy = element.y - 8;\n          color = this.colors[element.objectClass];\n          let count = 0;\n\n          element.parameters.forEach((param, index) => {\n            if (param.showOnDiagram) {\n\n              count++;\n            }\n          });\n\n          let h = (60 + (count > 3 ? ((count - 3) * 16 + (count * 5)) : 0));\n          let selected = +this.selected === +index ? \"stroke-width:1;stroke:rgb(0,0,0)\" : \"\";\n          let g = this.conteiner.append(\"g\").attr(\"class\", \"g\");\n          g.append(\"rect\")\n            .attr(\"class\", \"nodes\")\n            .attr(\"id\", index)\n            .attr(\"style\", selected)\n            .attr(\"fill\", color)\n            .attr(\"x\", element.x - 5)\n            .attr(\"y\", element.y - 10)\n            .attr(\"width\", 160)\n            .attr(\"height\", h)\n            .attr(\"rx\", 10)\n            .attr(\"ry\", 10)\n            .on(\"mouseover\", (q, w, e) => {\n              d3.event.stopPropagation();\n              if (this.activeArrow) {\n                document.documentElement.style.cursor = \"default\";\n                d3.select(document.getElementById(e[0].id + \"main\")).style(\n                  \"fill\",\n                  \"#84bd96\"\n                );\n              }\n            })\n            .on(\"mouseout\", (q, w, e) => {\n              d3.event.stopPropagation();\n              d3.select(document.getElementById(e[0].id + \"main\")).style(\n                \"fill\",\n                \"#2196f3\"\n              );\n              if (this.activeArrow) {\n                document.documentElement.style.cursor = \"not-allowed\";\n              }\n            })\n            .on(\"click\", (d, i, s) => {\n              d3.event.stopPropagation();\n              this.selected = s[0].id;\n              this.removeAll();\n              this.drow();\n              if (this.activeArrow)\n                this.shepClick(s[0].id);\n            })\n            .on(\"dblclick\", (d, i, s) => {\n              this.selectedModal = s[0].id;\n              let name = this.data[this.selectedModal].objectClass + (this.data[this.selectedModal].parameters.length + 1);\n              this.newParametr = new ParameterClass(\"Par\" + (this.data.filter(value => value.objectClass === this.data[this.selectedModal].objectClass).length + 1) + name, \"\", \"0\")\n              this.showSide = true;\n              this.removeAll();\n              this.drow();\n              this.activeArrow = null;\n              this.startDrowLine = null;\n              this.selected = null;\n            });\n\n          g.append(\"text\")\n            .attr(\"x\", element.x - 5)\n            .attr(\"y\", element.y - 13)\n            .text((element.name || element.id));\n\n          g.append(\"text\")\n            .attr(\"id\", index + \"-remove\")\n            .attr(\"x\", element.x + 140)\n            .attr(\"y\", element.y - 13)\n            .text(\"X\")\n            .on(\"click\", (d, i, s) => {\n              d3.event.stopPropagation();\n              let id = s[0].id.split(\"-\")[0];\n\n              this.componentService.delete(this.data[id]).subscribe((data) => {\n                this.data.splice(id, 1);\n\n                this.clear();\n              });\n            });\n\n          g.append(\"text\")\n            .attr(\"id\", index + \"-arrow\")\n            .attr(\"x\", element.x + 135)\n            .attr(\"y\", element.y + 5)\n            .text(\"=>\")\n            .on(\"click\", (d, i, s) => {\n              d3.event.stopPropagation();\n              let id = s[0].id.split(\"-\")[0];\n              this.shepClick(id);\n            });\n\n          g.append(\"text\")\n            .attr(\"id\", index + \"-drag\")\n            .attr(\"x\", element.x)\n            .attr(\"y\", element.y + 5)\n            .text(\"|||\")\n            .on(\"click\", (d, i, s) => {\n              d3.event.stopPropagation();\n              let id = s[0].id.split(\"-\")[0];\n              this.saverComponent.push(JSON.parse(JSON.stringify( this.data )));\n              this.componentService.delete(this.data[id]).subscribe((data) => {\n                this.data.splice(id, 1);\n\n                this.clear();\n              });\n            })\n            .call(\n              d3\n                .drag()\n                .on(\"start\", dragstarted)\n                .on(\"drag\", dragged)\n                .on(\"end\", dragended)\n            );\n\n          let countIndex = 0;\n          let parameters = element.parameters.slice();\n          parameters.forEach((param, paramIndex) => {\n            if (param.showOnDiagram) {\n              let py = element.y + 70 - 50 - (countIndex * 20) + (count >= 3 ? ((count - 3) * 16 + (count * 7)) : (count > 1) ? (count * 4) : -9);\n              switch (param.controlType) {\n                case \"Value\":\n                case \"\":\n                  let v = param.value;\n\n                  if (v && v.charAt(0) === \"=\") {\n                    let spcaSpit = v.split(\" \");\n\n                    spcaSpit.forEach((element, index) => {\n                      let earr = element.split(\".\");\n                      if (earr.length == 3) {\n                        if (this.formulaSaver[earr[2]]) {\n                          spcaSpit[index] = this.formulaSaver[earr[2]];\n                        } else {\n                          spcaSpit[index] = this.formulaSaver[element];\n                        }\n                      }\n                    });\n                    spcaSpit.shift();\n                    try {\n                      this.formulaSaver[param.id] = this.notEval(spcaSpit.join(''));\n                    } catch {\n                      this.calc();\n                    }\n\n                    g.append(\"text\")\n                      .attr(\"x\", element.x + 20)\n                      .attr(\"y\", py)\n                      .text((param.name || param.id) + \" - \" + (this.formulaSaver[param.id] || (this.formulaSaverOld[param.id] || \"\")));\n\n                  } else {\n                    g.append(\"text\")\n                      .attr(\"x\", element.x + 20)\n                      .attr(\"y\", py)\n                      .text((param.name || param.id) + \" - \" + (v || \"\"));\n                  }\n\n                  break;\n                case \"Input\":\n                  let gI = g.append(\"g\");\n                  gI.append(\"text\")\n                    .attr(\"x\", element.x)\n                    .attr(\"y\", py)\n                    .text((param.name || param.id) + \" - \");\n                  gI.append(\"foreignObject\")\n                    .attr(\"x\", element.x + ((param.name || param.id).length * 11))\n                    .attr(\"y\", py - 15)\n                    .attr(\"width\", 50)\n                    .attr(\"height\", 16)\n                    .attr(\"class\", \"foreignObject-input-bmp\")\n                    .html((d) => {\n                      return `<input id=\"${index}-${paramIndex}\" type=\"number\" value=\"${param.value}\" />`\n                    });\n                  let inputElement: any = document.getElementById(`${index}-${paramIndex}`);\n                  let self = this;\n                  inputElement.onkeypress = function (e) {\n                    setTimeout(() => {\n                      self.dragSelected = index;\n                      self.data[index].parameters[paramIndex].value = inputElement.value.toString();\n                      self.txtQueryChanged.next({\n                        value: inputElement.value,\n                        selected: self.dragSelected\n                      });\n                    }, 500);\n                  };\n                  break;\n                case \"Slider\":\n                  let gR = g.append(\"g\");\n                  // gR.append(\"text\")\n                  //   .attr(\"x\", element.x)\n                  //   .attr(\"y\", py)\n                  //   .text((param.name || param.id) + \" - \");\n                  gR.append(\"foreignObject\")\n                    .attr(\"x\", element.x + ((param.name || param.id).length * 10) - 50)\n                    .attr(\"y\", py - 15)\n                    .attr(\"width\", 120)\n                    .attr(\"height\", 16)\n                    .attr(\"class\", \"foreignObject-input-bmp\")\n                    .html((d) => {\n                      return `\n                      <div style=\"display:flex;align-items: center;\">\n                      <input id=\"${index}-${paramIndex}-left\" class=\"range-button\" type=\"button\" value=\"<\">\n                      </input>\n                      <input id=\"${index}-${paramIndex}\" type=\"range\" \n                      min=\"${param.sliderMin}\" max=\"${param.sliderMax}\" \n                      step=\"${param.Step}\" value=\"${param.value}\" />\n                      <input id=\"${index}-${paramIndex}-right\" class=\"range-button\" type=\"button\" value=\">\">\n                      </input>\n                      </div>\n                \n                      `\n                    });\n                  gR.append(\"text\")\n                    .attr(\"font-size\", \"10px\")\n                    .attr(\"x\", element.x + 40)\n                    .attr(\"y\", py - 10)\n                    .text((param.name || param.id) + \"-\" + (param.value));\n\n                  self = this;\n                  let rangeElement: any = document.getElementById(`${index}-${paramIndex}`);\n                  rangeElement.onchange = function (e) {\n                    setTimeout(() => {\n                      self.dragSelected = index;\n                      self.data[index].parameters[paramIndex].value = rangeElement.value.toString();\n                      self.txtQueryChanged.next({\n                        value: rangeElement.value,\n                        selected: self.dragSelected\n                      });\n                    }, 500);\n                  };\n\n                  let rangeElementleft: any = document.getElementById(`${index}-${paramIndex}-left`);\n                  rangeElementleft.onclick = function (e) {\n                    setTimeout(() => {\n                      let value = +rangeElement.value - +param.sliderStep;\n                      if (value > param.sliderMin) {\n                        self.dragSelected = index;\n                        self.data[index].parameters[paramIndex].value = value.toString();\n                        self.txtQueryChanged.next({\n                          value: value,\n                          selected: self.dragSelected\n                        });\n                      }\n                    }, 200);\n                  };\n\n                  let rangeElementright: any = document.getElementById(`${index}-${paramIndex}-right`);\n                  rangeElementright.onclick = function (e) {\n                    setTimeout(() => {\n                      let value = +rangeElement.value + +param.sliderStep;\n                      if (value < param.sliderMax) {\n                        self.dragSelected = index;\n                        self.data[index].parameters[paramIndex].value = value.toString();\n                        self.txtQueryChanged.next({\n                          value: value,\n                          selected: self.dragSelected\n                        });\n                      }\n                    }, 200);\n                  };\n                  break;\n                default:\n                  break;\n              }\n\n              countIndex++;\n            }\n          });\n\n          break;\n\n        default:\n          break;\n      }\n      if (this.marker)\n        this.marker\n          .append(\"path\")\n          .attr(\"class\", \"path\")\n          .attr(\"d\", \"M 0 0 12 6 0 12 3 6\")\n          .style(\"fill\", \"#999\");\n      let self = this;\n\n      function dragstarted(d) {\n        // d3.select(this)\n        //   .classed(\"active\", true);\n        self.start_x = +d3.event.x;\n        self.start_y = +d3.event.y;\n      }\n\n      function dragged(d) {\n        let current_scale, current_scale_string;\n        let transform = document.getElementById('wrap')\n        if (transform.getAttribute(\"transform\") === null) {\n          current_scale = 1;\n        } else {\n          current_scale_string = transform.getAttribute(\"transform\").split(\" \")[1];\n          current_scale = +current_scale_string.substring(\n            6,\n            current_scale_string.length - 1\n          );\n        }\n\n        if (!self.zoomTrans) {\n          self.zoomTrans = {\n            x: 0,\n            y: 0,\n            k: 1,\n          };\n        }\n\n        self.dragSelected = this.getAttribute(\"id\").split(\"-\")[0];\n        self.data[self.dragSelected].x =\n          (d3.event.x - self.zoomTrans.x) / self.zoomTrans.k;\n        // self.start_x + (d3.event.x - self.start_x) / current_scale;\n        // (e.offsetX - this.zoomTrans.x) / this.zoomTrans.k;\n        let scale = 30;\n        if (self.zoomTrans.k < 0.33) {\n          scale = 50;\n        }\n        self.data[self.dragSelected].y = (\n          (d3.event.y - self.zoomTrans.y) / self.zoomTrans.k - (scale / self.zoomTrans.k)) - 25;\n        // self.start_y + (d3.event.y - self.start_y) / current_scale;\n        self.removeAll();\n        self.drow();\n        self.txtQueryChanged.next({\n          value: self.zoomTrans,\n          selected: self.dragSelected,\n          drag: 1\n        });\n\n      }\n\n      function dragended(d) {\n        d3.select(this).classed(\"active\", false);\n      }\n    });\n  }\n\n  formulaSaver = {};\n  formulaSearchRun;\n  formulaData;\n\n  formulaSearch(element) {\n    let arr = element.split(\".\");\n    if (!this.formulaSearchRun) {\n      this.formulaSearchRun = true;\n      this.componentService.getAllByUserId(this.user._id).subscribe((data: any) => {\n        this.formulaData = data;\n        this.formulaDataSearch(data, arr, element);\n      });\n    } else if (this.formulaData) {\n      this.formulaDataSearch(this.formulaData, arr, element);\n    }\n  }\n\n  formulaDataSearch(data, arr, element) {\n    data.forEach(comp => {\n      comp.parameters.forEach(param => {\n        if (param.id === arr[2]) {\n          this.formulaSaver[element] = param.value;\n        }\n      });\n    });\n\n    this.clear();\n  }\n\n  clickArrow;\n\n  selectedLine;\n  selectedLineId;\n  selectedLineFrom;\n  selectedLineTo;\n\n  drowLines() {\n    this.data.forEach((value, index, arr) => {\n      value.selected.forEach(item => {\n        let to = this.searchById(item, this.data);\n        let from = this.data[index];\n        if (to) {\n          let x = +from.x;\n          let y = +from.y;\n          let x2 = +to.x;\n          let y2 = +to.y;\n          let minX = Math.abs(x - x2);\n          let minY = Math.abs(y - y2);\n          if (minX > minY) {\n            if (+x < +x2) {\n              x += 25;\n              x2 -= 25;\n            } else {\n              x -= 25;\n              x2 += 25;\n            }\n          } else {\n            if (+y < +y2) {\n              y += 25;\n              y2 -= 25;\n            } else {\n              y -= 25;\n              y2 += 25;\n            }\n          }\n\n          var d = {\n            source: {\n              x: x + 30,\n              y: y + 15\n            },\n            target: {\n              x: x2 + 30,\n              y: y2 + 15\n            }\n          };\n\n          var link = d3\n            .linkHorizontal()\n            .x(function (d) {\n              return d.x;\n            })\n            .y(function (d) {\n              return d.y;\n            });\n\n          this.conteiner\n            .append(\"path\")\n            .attr(\"d\", link(d))\n            .attr(\"id\", from.id + to.id)\n            .attr(\"class\", \"path\")\n            .style(\"fill\", \"none\")\n            .style(\"stroke\", \"#555\")\n            .attr(\"stroke-opacity\", 0.4)\n            .attr(\"stroke-width\", 1.5)\n            .attr(\"marker-mid\", \"url(#triangle)\");\n\n          this.conteiner\n            .append(\"path\")\n            .attr(\"class\", \"path\")\n            .attr(\"d\", link(d))\n            .style(\"fill\", \"none\")\n            .style(\"stroke\", \"#555\")\n            .attr(\"stroke-opacity\", 0)\n            .attr(\"stroke-width\", 15)\n            .on(\"click\", () => {\n\n              this.selected = undefined;\n\n              this.removeAll();\n              this.drow();\n              // if (this.selectedLine) {\n              //   this.unselectArrow();\n              // }\n              this.clickArrow = true;\n\n              this.selectedLine = from.id + to.id;\n              this.selectedLineId = index;\n              this.selectedLineFrom = from;\n              this.selectedLineTo = to;\n\n              d3.select(document.getElementById(from.id + to.id)).style(\n                \"stroke-width\",\n                2.5\n              );\n              d3.select(document.getElementById(from.id + to.id)).style(\n                \"stroke\",\n                \"black\"\n              );\n\n            });\n\n          this.conteiner\n            .append(\"polyline\")\n            .attr(\n              \"points\",\n              d.source.x +\n              \",\" +\n              d.source.y +\n              \" \" +\n              (d.source.x + d.target.x) / 2 +\n              \",\" +\n              (d.source.y + d.target.y) / 2 +\n              \" \" +\n              d.target.x +\n              \",\" +\n              d.target.y\n            )\n            .style(\"fill\", \"none\")\n            .attr(\"marker-mid\", \"url(#triangle)\");\n        }\n\n      });\n    });\n  }\n\n  shepClick(s) {\n    this.selected = s;\n    let id = this.selected;\n    if (!this.activeArrow) {\n      this.activeArrow = id;\n      this.startDrowLine = id;\n    } else {\n      let count = 0;\n      this.data[id].selected.forEach((element, index) => {\n        if (this.data[this.activeArrow]._id === element) {\n          count++;\n        }\n      });\n      this.data[this.activeArrow].selected.forEach((element, index) => {\n        if (this.data[id]._id === element) {\n          count++;\n        }\n      });\n      if (count) {\n        this.activeArrow = null;\n        this.startDrowLine = null;\n        this.removeAll();\n        this.drowLines();\n        this.drow();\n        return;\n      }\n\n      if (id !== this.activeArrow) {\n        this.data[this.activeArrow].selected.push(this.data[id]._id);\n        this.txtQueryChanged.next({\n          value: \"query\",\n          selected: this.activeArrow\n        });\n      }\n      this.activeArrow = null;\n      this.startDrowLine = null;\n    }\n\n    this.removeAll();\n    this.drowLines();\n    this.drow();\n  }\n\n  removeAll() {\n    d3.selectAll(\"line\").remove();\n    d3.selectAll(\"polyline\").remove();\n    d3.selectAll(\"rect\").remove();\n    d3.selectAll(\"text\").remove();\n    d3.selectAll(\"circle\").remove();\n\n    // d3.selectAll(\"g\").remove();\n\n    d3.selectAll(\".path\").remove();\n    d3.selectAll(\".g\").remove();\n    // this.types.forEach(type => {\n    //   d3.selectAll(type).remove();\n    // });\n\n  }\n  searchById(id, arr) {\n    if (arr) {\n      let result = arr.find(element => element._id === id);\n      return result;\n    }\n  }\n  uuidv4() {\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n      var r = (Math.random() * 16) | 0,\n        v = c == \"x\" ? r : (r & 0x3) | 0x8;\n      return v.toString(16);\n    });\n  }\n\n  txtQuery: string; // bind this to input with ngModel\n  txtQueryChanged: Subject<any> = new Subject<any>();\n  onFieldChange(query: string) {\n    this.txtQueryChanged.next({\n      value: query,\n      selected: this.selectedModal\n    });\n  }\n\n  newParametr = new ParameterClass(\"\", \"\", \"0\", \"\");\n\n  addParametr() {\n    this.saverComponent.push(JSON.parse(JSON.stringify( this.data )));\n    this.data[this.selectedModal].parameters.unshift(this.newParametr);\n    this.newParametr = new ParameterClass(\"\", \"\", \"0\", \"\");\n    this.txtQueryChanged.next({\n      value: this.newParametr,\n      selected: this.selectedModal\n    });\n  }\n\n  onKeyDown(e) {\n    let re = /^(\\d*[a-zA-Z]*\\d*[a-zA-Z]*)*$/mg;\n    if (!re.test(e.key)) {\n      return false;\n    }\n  }\n\n  notEval(fn) {\n    return new Function('return ' + fn)();\n  }\n\n\n  rangeWidth(flag?) {\n    if (flag) {\n      setTimeout(() => {\n        document.getElementById(\"lineZoomRange\").style.width = 50 + \"%\";\n      }, 500);\n    } else {\n      let input = document.getElementById(\"range\");\n      let width;\n      width = (input[\"value\"] / 2) * 100;\n      document.getElementById(\"lineZoomRange\").style.width = width + \"%\";\n    }\n  }\n\n  unselectArrow() {\n    if (this.selectedLine) {\n      this.data.forEach((element, index) => {\n        d3.select(document.getElementById(this.selectedLine)).style(\n          \"stroke-width\",\n          1.5\n        );\n        d3.select(document.getElementById(this.selectedLine)).style(\n          \"stroke\",\n          \"#555\"\n        );\n      });\n      this.selectedLine = null;\n      this.clickArrow = false;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\nimport { Subject } from 'rxjs/Subject';\n\nimport { TooltipComponent } from '@angular/material';\n\n@Injectable()\nexport class ComponentService {\n\n  constructor(private http: HttpClient) { }\n\n  create(component) {\n    return this.http.post('/api/component', component)\n  }\n\n  getAll() {\n    return this.http.get('/api/component');\n  }\n\n  update(component) {\n    return this.http.put('/api/component', component);\n  }\n\n  delete(component) {\n    return this.http.delete('/api/component/' + component._id);\n  }\n\n  getAllById(id) {\n    return this.http.get('/api/component/list/' + id);\n  }\n\n  getAllByUserId(id) {\n    return this.http.get('/api/component/list/user/' + id);\n  }\n}\n","module.exports = \"<h1 mat-dialog-title>Create Model</h1>\\n<div mat-dialog-content>\\n  <mat-form-field>\\n    <mat-label>ID</mat-label>\\n    <input matInput (keydown)=\\\"onKeyDown($event)\\\" [(ngModel)]=\\\"model.id\\\" />\\n  </mat-form-field>\\n  <mat-form-field>\\n    <mat-label>Name</mat-label>\\n    <input matInput [(ngModel)]=\\\"model.name\\\" />\\n  </mat-form-field>\\n  <mat-form-field>\\n    <mat-label>Description</mat-label>\\n    <input matInput [(ngModel)]=\\\"model.description\\\" />\\n  </mat-form-field>\\n</div>\\n<div mat-dialog-actions class=\\\"jc-c df\\\">\\n  <button\\n    mat-button\\n    [mat-dialog-close]=\\\"model\\\"\\n    mat-raised-button\\n    color=\\\"primary\\\"\\n    cdkFocusInitial\\n  >\\n    Ok\\n  </button>\\n  <button mat-button (click)=\\\"onNoClick()\\\">Cancel</button>\\n</div>\\n\"","module.exports = \".textarea-wrap {\\n  display: flex; }\\n  .textarea-wrap textarea {\\n    height: 170px;\\n    border: 1px solid #949494;\\n    margin-bottom: -8px;\\n    resize: none;\\n    background: white;\\n    position: relative;\\n    z-index: 1;\\n    padding: 5px;\\n    box-sizing: border-box; }\\n  .mat-form-field {\\n  display: block; }\\n  button.func {\\n  min-width: 0;\\n  padding: 0 7px;\\n  margin-top: 35px; }\\n\"","import { Component, OnInit, Inject } from \"@angular/core\";\nimport { MatDialogRef, MAT_DIALOG_DATA } from \"@angular/material/dialog\";\nimport { ModelClass } from \"../../model\";\n\n@Component({\n  selector: \"app-dialog-create-model\",\n  templateUrl: \"./dialog-create-model.component.html\",\n  styleUrls: [\"./dialog-create-model.component.scss\"]\n})\nexport class DialogCreateModelComponent implements OnInit {\n  model = new ModelClass();\n  constructor(public dialogRef: MatDialogRef<DialogCreateModelComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any) { }\n  ngOnInit(): void {\n    this.model.id = this.data.id;\n  }\n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n  onKeyDown(e) {\n    let re = /^(\\d*[a-zA-Z]*\\d*[a-zA-Z]*)*$/mg;\n    if (!re.test(e.key)){\n      return false;\n    }\n  }\n}\n","module.exports = \"<h1 mat-dialog-title>Formula dialog</h1>\\n<div mat-dialog-content>\\n  <mat-form-field>\\n    <mat-label>Model</mat-label>\\n    <mat-select [(ngModel)]=\\\"sleectedModel\\\" (ngModelChange)=\\\"modelChange($event)\\\">\\n      <mat-option *ngFor=\\\"let item of listModel\\\" [value]=\\\"item._id\\\">\\n        {{item.name}}\\n      </mat-option>\\n    </mat-select>\\n  </mat-form-field>\\n  <mat-form-field>\\n    <mat-label>Class</mat-label>\\n    <mat-select [(ngModel)]=\\\"selectedClass\\\" (ngModelChange)=\\\"paramsFilter($event)\\\">\\n      <mat-option *ngFor=\\\"let item of listClass\\\" [value]=\\\"item\\\">\\n        {{item}}\\n      </mat-option>\\n    </mat-select>\\n  </mat-form-field>\\n  <mat-form-field>\\n    <mat-label>Object</mat-label>\\n    <mat-select [(ngModel)]=\\\"selectedObject\\\" (ngModelChange)=\\\"paramsFilter($event)\\\">\\n      <mat-option *ngFor=\\\"let item of listObjects | filtrListParam: selectedClass\\\" [value]=\\\"item.id\\\">\\n        {{item.name || item.id}}\\n      </mat-option>\\n    </mat-select>\\n  </mat-form-field>\\n  <mat-form-field>\\n    <mat-label>Parameter</mat-label>\\n    <mat-select [(ngModel)]=\\\"selectedParam\\\" (ngModelChange)=\\\"paramsChange($event)\\\">\\n      <mat-option *ngFor=\\\"let item of listParams | filtrListParam: selectedClass: selectedObject\\\" [value]=\\\"item._id\\\">\\n        {{item.name || item.id}}\\n      </mat-option>\\n    </mat-select>\\n  </mat-form-field>\\n  <div class=\\\"textarea-wrap\\\">\\n    <div style=\\\"width: 60%; position: relative;\\\">\\n      <mat-form-field style=\\\"width: 100%\\\" class=\\\"example-full-width\\\">\\n        <!-- (ngModelChange)=\\\"change($event)\\\" -->\\n        <textarea #textArea [(ngModel)]=\\\"formula\\\" (ngModelChange)=\\\"change($event)\\\" (keydown)=\\\"checkPattern($event)\\\"\\n          matInput></textarea>\\n      </mat-form-field>\\n      <div (click)=\\\"textArea.focus()\\\" class=\\\"text-area-shield\\\"></div>\\n    </div>\\n    <div style=\\\"width: 40%; padding: 20px 0 0 20px;\\\">\\n      <div class=\\\"full-width\\\">\\n        <!-- [disabled]=\\\"!boolLastOperator\\\" -->\\n        <button [matTooltip]=\\\"!boolLastOperator ? 'Before add math operator: +, -, *, /' : null\\\" (click)=\\\"add()\\\" class=\\\"full-width\\\" mat-raised-button color=\\\"primary\\\" mat-button>\\n          <= ADD</button> </div> <div class=\\\"df jc-c\\\">\\n            <button (click)=\\\"test()\\\" class=\\\"func\\\" mat-raised-button color=\\\"primary\\\" mat-button>\\n              <i>\\n                f(x)\\n              </i>\\n            </button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n<div mat-dialog-actions class=\\\"jc-c df\\\">\\n  <button mat-button (click)=\\\"ok()\\\" mat-raised-button color=\\\"primary\\\" cdkFocusInitial>\\n    Ok\\n  </button>\\n  <button mat-button (click)=\\\"onNoClick()\\\">Cancel</button>\\n</div>\"","module.exports = \".textarea-wrap {\\n  display: flex; }\\n  .textarea-wrap textarea {\\n    height: 170px;\\n    border: 1px solid #949494;\\n    margin-bottom: -8px;\\n    resize: none;\\n    background: white;\\n    position: relative;\\n    z-index: 1;\\n    padding: 5px;\\n    box-sizing: border-box; }\\n  .mat-form-field {\\n  display: block; }\\n  button.func {\\n  min-width: 0;\\n  padding: 0 7px;\\n  margin-top: 35px; }\\n  .text-area-shield {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 1; }\\n\"","import { Component, OnInit, Inject } from \"@angular/core\";\nimport { MatDialogRef } from \"@angular/material/dialog\";\nimport { MAT_DIALOG_DATA } from '@angular/material';\nimport { ComponentService } from \"../../component.service\";\n\n@Component({\n  selector: \"app-dialog-parameters\",\n  templateUrl: \"./dialog-parameters.component.html\",\n  styleUrls: [\"./dialog-parameters.component.scss\"]\n})\nexport class DialogParametersComponent implements OnInit {\n\n  listModel = [];\n  listComponents = [];\n  listClass = [];\n  listObjects = [];\n  listParams = [];\n  selectedParam;\n  selectedObject;\n  selectedClass;\n  sleectedModel;\n  constructor(public dialogRef: MatDialogRef<DialogParametersComponent>,\n    private componentService: ComponentService,\n    @Inject(MAT_DIALOG_DATA) public data: any) { }\n\n  ngOnInit(): void {\n    this.listModel = this.data.list;\n    // this.formula = this.data.formula;\n    this.formula = this.data.formula.charAt(0) !== '=' ? (\"=\" + this.data.formula) : this.data.formula;\n    this.sleectedModel = this.data.modelId;\n    this.modelChange(this.sleectedModel);\n  }\n\n  modelChange(id) {\n    this.componentService.getAllById(id).subscribe((data: any) => {\n      this.listComponents = data;\n      this.listClass = [];\n      this.listObjects = [];\n      this.listComponents.forEach(item => {\n        this.listClass.push(item.objectClass);\n        this.listObjects.push(item);\n        item.parameters.forEach(element => {\n          element.objectClass = item.objectClass;\n          element.objectType = item.id;\n        });\n        this.listParams = [...this.listParams, ...item.parameters];\n      });\n      this.listClass = [...this.listClass.filter(this.onlyUnique)];\n      this.listObjects = [...this.listObjects.filter(this.onlyUnique)];\n    });\n  }\n\n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n\n  onlyUnique(value, index, self) {\n    return self.indexOf(value) === index;\n  }\n\n  paramsFilter(e) {\n\n  }\n\n  ok() {\n    let spcaSpit = this.formula.split(\" \");\n    let valid = true;\n    spcaSpit.forEach((item) => {\n      let arr = item.split(\".\");\n      if (arr.length == 2) {\n        this.listModel.forEach((model, modelIndex) => {\n          let validModel;\n          if (model.id === arr[0]) {\n            validModel = true;\n            let validParam = false;\n            this.listParams.forEach((comp, index) => {\n              if (comp.id === arr[1]) {\n                validParam = true\n              }\n\n              if (this.listParams.length === (index + 1) && !validParam) {\n                valid = false;\n              }\n            })\n          }\n          if (this.listModel.length === (modelIndex + 1) && !validModel) {\n            valid = false;\n          }\n        })\n      }\n    })\n\n    if (valid) {\n      this.dialogRef.close({ formula: this.formula });\n    }\n  }\n\n  selectedFormulaVar = \"\";\n  formula = \"= \";\n\n  paramsChange(e) {\n    let item = this.searchById(e, this.listParams);\n    let model = this.searchById(this.sleectedModel, this.listModel);\n    let object = this.searchById(this.selectedObject, this.listObjects);\n    console.log(this.sleectedModel , model.id)\n    // if(this.sleectedModel === model.id) {\n    //   this.selectedFormulaVar = item.id;\n    // } else {\n      this.selectedFormulaVar = model.id + \".\" + this.selectedObject + \".\" + item.id;\n    // }\n  }\n\n  add() {\n    setTimeout(() => {\n      if (this.boolLastOperator && this.selectedFormulaVar) {\n        if (this.reOperator.test(this.formula[this.formula.length - 1])) {\n          this.formula = this.formula + ' ' + this.selectedFormulaVar;\n        } else {\n          this.formula += this.selectedFormulaVar;\n        }\n        this.boolLastOperator = false;\n      }\n    }, 2);\n  }\n\n  searchById(id, arr) {\n    if (arr) {\n      let result = arr.find(element => element._id === id);\n      return result;\n    }\n  }\n\n  re = /^\\s{0,1}\\d+[.]?(\\d+)?(\\s{0,1}[+|(\\-)|*|/]+\\s{0,1}\\d+[.]?(\\d+)?)*\\s{0,1}$/;\n  reOperator = /^[+\\-*/]$/mg;\n  reNumber = /[0-9]/;\n  reDigit = /^[0-9]*.([0-9]+)?$/mg;\n  keyPeriod = true;\n  boolLastOperator;\n\n  renameFormula(text) {\n    let newFormula = text + ' ';\n    setTimeout(() => {\n      this.formula = newFormula;\n      this.boolLastOperator = true;\n    }, 1);\n  }\n\n  checkPattern(elem) {\n\n    setTimeout(() => {\n      if (this.formula[this.formula.length - 1] === ' ') {\n        if (this.reOperator.test(this.formula[this.formula.length - 2])) {\n          this.boolLastOperator = true;\n        } else {\n          this.boolLastOperator = false;\n        }\n      } else {\n        // backspace\n        if ((elem.keyCode !== 8 && elem.keyCode !== 46)) {\n          if (this.reOperator.test(this.formula[this.formula.length - 1])) {\n            this.boolLastOperator = true;\n          } else {\n            this.boolLastOperator = false;\n          }\n        }\n      }\n    }, 1);\n\n    // operator\n    if (this.reOperator.test(elem.key)) {\n      this.keyPeriod = true;\n      if (this.formula[this.formula.length - 1] === '.') {\n        this.formula = this.formula + '0'\n      }\n\n      if (this.formula[this.formula.length - 2] === '=') {\n        return false;\n      } else if (\n        this.formula[this.formula.length - 1] !== ' ' &&\n        this.reOperator.test(this.formula[this.formula.length - 1])\n      ) {\n        this.formula = this.formula + ' ';\n      } else if (\n        this.formula[this.formula.length - 1] !== ' ' &&\n        (\n          !this.reOperator.test(this.formula[this.formula.length - 1])\n        )\n      ) {\n        this.formula = this.formula + ' ' + elem.key + ' ';\n\n      } else if (\n        this.formula[this.formula.length - 1] === ' ' &&\n        !this.reOperator.test(this.formula[this.formula.length - 2])\n      ) {\n        if (!this.reOperator.test(this.formula[this.formula.length - 2])) {\n          this.formula = this.formula + elem.key + ' ';\n        }\n      }\n    }\n\n    if (elem.key === \".\") {\n      if (!this.reNumber.test(this.formula[this.formula.length - 1])) {\n        return false;\n      }\n      if (!this.keyPeriod) {\n        return false;\n      }\n      this.keyPeriod = false;\n    }\n    //space\n    if (elem.keyCode === 32) {\n      if (this.formula[this.formula.length - 1] === '.') {\n        this.formula = this.formula + '0'\n      }\n    }\n    // backspace\n    if (elem.keyCode === 8 || elem.keyCode === 46) {\n      setTimeout(() => {\n        if (this.formula[this.formula.length - 1] !== ' ') {\n          let arr = this.formula.split(' ');\n          let number = this.reNumber.test(arr[arr.length - 1]);\n          let oper = this.reOperator.test(arr[arr.length - 1]);\n          if (\n            !number &&\n            !oper\n          ) {\n            this.renameFormula(arr.splice(0, arr.length - 1).join(' '))\n          }\n        }\n      }, 1);\n    }\n    if (\n      this.formula[this.formula.length - 1] === ' ' &&\n      this.reNumber.test(elem.key) &&\n      this.reNumber.test(this.formula[this.formula.length - 2])\n    ) {\n      return false;\n    }\n    //space\n    if (elem.keyCode === 32 && this.formula[this.formula.length - 1] === ' ') {\n      return false;\n    }\n    if (this.reNumber.test(elem.key)) {\n      if (this.reOperator.test(this.formula[this.formula.length - 1])) {\n        this.formula = this.formula + ' ';\n      }\n    }\n    if (\n      !this.reNumber.test(elem.key) &&\n      // backspace\n      (elem.keyCode !== 8 && elem.keyCode !== 46) &&\n      // space\n      elem.keyCode !== 32 &&\n      elem.key !== \".\"\n    ) {\n      return false;\n    } else {\n      if (!this.reNumber.test(elem.key) && elem.key !== \".\") {\n        this.keyPeriod = true;\n      }\n      //backspace\n      if (elem.keyCode !== 8 && elem.keyCode !== 46) {\n        if (this.reOperator.test(this.formula[this.formula.length - 1])) {\n          this.formula = this.formula + ' ';\n        }\n      }\n    }\n  }\n\n  currentFotmula;\n\n  change(e) {\n    let re = /^\\s{0,1}\\d+[.]?(\\d+)?(\\s{0,1}[+|\\-|*|/]+\\s{0,1}\\d+[.]?(\\d+)?)*\\s{0,1}$/;\n    let patternMath = /\\s?([+|(\\-)|*|/])\\s?$/;\n    setTimeout(() => {\n      if (this.formula.slice(0, 2) !== '= ') {\n        this.formula = '= '\n      }\n    }, 110);\n    // this.getBoolLastOperator();\n    //   if (value.slice(0, 1) === '=') {\n    //     if (value.slice(0, 2) === '= ') {\n    //       value = value.replace('= ', '')\n    //     } else {\n    //       value = value.replace('=', '')\n    //     }\n    //   }\n    //   if (!re.test(value)) {\n    //     if (!patternMath.test(value[value.length - 1])) {\n    //       setTimeout(() => {\n    //         this.formula = '= ' + value.substring(0, value.length - 1);\n\n    //         this.formula = this.formula.trim();\n    //         if (!value.length) {\n    //           this.formula = this.formula + ' '\n    //         }\n    //       }, 1);\n    //     } else {\n    //       this.formula = this.formula + '/s';\n    //     }\n    //     setTimeout(() => {\n    //       this.boolKeyPress = false;\n    //     }, 2);\n    //   } else {\n    //     this.currentFotmula = this.formula;\n    //     this.boolKeyPress = false;\n    //     console.log(this.currentFotmula);\n    //   }\n    // }\n  }\n}","import { Directive, ElementRef, Output, EventEmitter, HostListener } from '@angular/core';\n\n@Directive({\n  selector: '[clickOutside]'\n})\nexport class ClickOutsideDirective {\n\n  constructor(private _elementRef: ElementRef) {\n  }\n\n  @Output()\n  public clickOutside = new EventEmitter();\n\n  @HostListener('document:click', ['$event.target'])\n  public onClick(targetElement) {\n    const clickedInside = this._elementRef.nativeElement.contains(targetElement);\n    if (!clickedInside) {\n      this.clickOutside.emit(null);\n    }\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\nimport { Subject } from 'rxjs/Subject';\n\nimport { TooltipComponent } from '@angular/material';\n\n@Injectable()\nexport class ModelService {\n\n  constructor(private http : HttpClient) {}\n\n  create(model){\n    return this.http.post('/api/model', model)\n  }\n\n  getAll(){\n    return this.http.get('/api/model')\n  }\n  \n  getAllById(id){\n    return this.http.get('/api/model/list/' + id)\n  }\n}\n","export class ModelClass{\n    id: \"\";\n    userId: \"\";\n    name: \"\";\n    description: \"\";\n}\n\nexport class ComponentClass{\n    id = \"\";\n    modelId = \"\";\n    userId = \"\";\n    name = \"\";\n    objectClass = \"\";\n    objectType = \"\";\n    description = \"\";\n    unit = \"\";\n    picture = \"\";\n    x = 0;\n    y = 0;\n    selected = [];\n    parameters: ParameterClass[] = [];\n}\n\nexport class ParameterClass{\n    constructor(id?, name?, value?, showOnDiagram?){\n        this.id = id;\n        this.name = name;\n        this.value = value;\n        this.showOnDiagram = showOnDiagram;\n    }\n    id = \"\";\n    name = \"\";\n    description = \"\"\n    value = \"\";\n    measurable = 0;\n    changeable = 0;\n    controlType = \"\";\n    showName = 0;\n    showOnDiagram = 0;\n    featureLabelNone = \"\";\n    sliderStep = 1;\n    sliderMax = 100;\n    sliderMin = 0;\n}","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'filtrListParam'\n})\nexport class FiltrListParamPipe implements PipeTransform {\n\n  transform(data: any, class_?: any, object?: any): any {\n    data = data.filter((item) => {\n      if (class_ && object) {\n        if (item.objectClass === class_ && item.objectType === object) {\n          return true;\n        }\n      } else {\n        if (class_ && item.objectClass === class_) {\n          return true;\n        }\n        if (object && item.objectType === object) {\n          return true;\n        }\n      }\n    });\n    console.log(data);\n    return data;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\nimport {\n  MatToolbarModule,\n  MatMenuModule,\n  MatTabsModule,\n  MatDividerModule,\n  MatCardModule,\n  MatListModule,\n  MatExpansionModule,\n  MatButtonModule,\n  MatIconModule,\n  MatDialogModule,\n  MatInputModule,\n  MatSnackBarModule,\n  MatSidenavModule,\n  MatTreeModule,\n  MatProgressBarModule,\n  MatFormFieldModule,\n  MatSelectModule,\n  MatCheckboxModule\n} from '@angular/material';\nimport {MatTooltipModule} from '@angular/material/tooltip';\nimport { DialogParametersComponent } from './components/dialog-parameters/dialog-parameters.component';\nimport { DialogCreateModelComponent } from './components/dialog-create-model/dialog-create-model.component';\nimport { FiltrListParamPipe } from './pipes/filtr-list-param.pipe';\nimport { ClickOutsideDirective } from './directives/click-outside.directive';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatToolbarModule,\n    MatMenuModule,\n    MatTabsModule,\n    MatDividerModule,\n    MatCardModule,\n    MatListModule,\n    MatExpansionModule,\n    MatButtonModule,\n    MatIconModule,\n    MatDialogModule,\n    MatInputModule,\n    MatSnackBarModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatSidenavModule,\n    MatTreeModule,\n    MatProgressBarModule,\n    MatFormFieldModule,\n    MatSelectModule,\n    MatCheckboxModule,\n    FlexLayoutModule,\n    MatTooltipModule\n  ],\n  exports: [\n    MatToolbarModule,\n    MatMenuModule,\n    MatTabsModule,\n    MatDividerModule,\n    MatCardModule,\n    MatListModule,\n    MatExpansionModule,\n    MatButtonModule,\n    MatIconModule,\n    MatDialogModule,\n    MatInputModule,\n    MatSnackBarModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatSidenavModule,\n    MatTreeModule,\n    MatProgressBarModule,\n    MatFormFieldModule,\n    MatSelectModule,\n    MatCheckboxModule,\n    FlexLayoutModule,\n    MatTooltipModule\n  ],\n  entryComponents: [DialogParametersComponent, DialogCreateModelComponent],\n  declarations: [DialogParametersComponent, DialogCreateModelComponent, FiltrListParamPipe, ClickOutsideDirective],\n})\nexport class SharedModule { }\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}